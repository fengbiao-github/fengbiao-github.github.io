<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>【Docker】进阶篇 | 蜡笔没了小新の笔记</title>
  <meta name="keywords" content=" Docker , 待完善 ">
  <meta name="description" content="【Docker】进阶篇 | 蜡笔没了小新の笔记">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="1. XMLHttpRequest&#x2F;&#x2F; 实例化xhr对象 var xhr &#x3D; new XMLHttpRequest() &#x2F;&#x2F; 建立连接 xhr.open(&#x27;GET&#x27;, &#x27;xxx&#x27;, false) &#x2F;&#x2F; 发送请求 xhr.send()  2. jQueryTODO 待补充 3. vue-resource 安装vue-resource。 npm install">
<meta property="og:type" content="article">
<meta property="og:title" content="【Vue】HTTP插件">
<meta property="og:url" content="http://example.com/vue/http/index.html">
<meta property="og:site_name" content="蜡笔没了小新の笔记">
<meta property="og:description" content="1. XMLHttpRequest&#x2F;&#x2F; 实例化xhr对象 var xhr &#x3D; new XMLHttpRequest() &#x2F;&#x2F; 建立连接 xhr.open(&#x27;GET&#x27;, &#x27;xxx&#x27;, false) &#x2F;&#x2F; 发送请求 xhr.send()  2. jQueryTODO 待补充 3. vue-resource 安装vue-resource。 npm install">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2024-08-15T15:21:00.000Z">
<meta property="article:modified_time" content="2024-08-16T02:06:56.909Z">
<meta property="article:author" content="蜡笔没了小新">
<meta property="article:tag" content="Vue">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/darcula.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 7.2.0"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="/img/avatar.jpg"/>
</a>
<div class="author">
    <span>蜡笔没了小新</span>
</div>

<div class="icon">
    
        
            <a title="github"
               href="https://github.com/fengbiao-github"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-github"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="email"
               href="mailto:2014695858@qq.com"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-email"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="qq"
               href="http://wpa.qq.com/msgrd?v=3&uin=2014695858&site=qq&menu=yes"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-qq"></use>
                    </svg>
                
            </a>
        
    
</div>





<ul>
    <li>
        <div class="all active" data-rel="全部文章">全部文章
            
        </div>
    </li>
    
        
            
                
    <li>
        <div data-rel="理论">
            <i class="fold iconfont icon-right"></i>
            理论
            
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="理论&lt;---&gt;数据结构与算法">
            
            数据结构与算法
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="理论&lt;---&gt;设计模式">
            
            设计模式
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="理论&lt;---&gt;计算机网络">
            
            计算机网络
            
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="Java">
            <i class="fold iconfont icon-right"></i>
            Java
            
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="Java&lt;---&gt;JVM">
            
            JVM
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="Java&lt;---&gt;JUC">
            
            JUC
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="Java&lt;---&gt;新特性">
            
            新特性
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="Java&lt;---&gt;NIO">
            
            NIO
            
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="数据库">
            <i class="fold iconfont icon-right"></i>
            数据库
            
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="数据库&lt;---&gt;关系型数据库">
            
            关系型数据库
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="数据库&lt;---&gt;非关系型数据库">
            
            非关系型数据库
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="数据库&lt;---&gt;分库分表">
            
            分库分表
            
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="框架">
            <i class="fold iconfont icon-right"></i>
            框架
            
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="框架&lt;---&gt;Spring">
            
            Spring
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="框架&lt;---&gt;视图层">
            
            视图层
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="框架&lt;---&gt;ORM">
            
            ORM
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="框架&lt;---&gt;认证授权">
            
            认证授权
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="框架&lt;---&gt;任务调度">
            
            任务调度
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="框架&lt;---&gt;工作流引擎">
            
            工作流引擎
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="框架&lt;---&gt;网络编程">
            
            网络编程
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="框架&lt;---&gt;文件处理">
            
            文件处理
            
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="微服务">
            
            微服务
            
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="中间件">
            <i class="fold iconfont icon-right"></i>
            中间件
            
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="中间件&lt;---&gt;WEB">
            
            WEB
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="中间件&lt;---&gt;缓存">
            
            缓存
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="中间件&lt;---&gt;消息队列">
            
            消息队列
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="中间件&lt;---&gt;搜索引擎">
            
            搜索引擎
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="中间件&lt;---&gt;日志">
            
            日志
            
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="大数据">
            
            大数据
            
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="工具">
            <i class="fold iconfont icon-right"></i>
            工具
            
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="工具&lt;---&gt;IDE">
            
            IDE
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="工具&lt;---&gt;版本控制">
            
            版本控制
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="工具&lt;---&gt;项目构建">
            
            项目构建
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="工具&lt;---&gt;持续集成">
            
            持续集成
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="工具&lt;---&gt;测试">
            
            测试
            
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="运维">
            <i class="fold iconfont icon-right"></i>
            运维
            
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="运维&lt;---&gt;Linux">
            
            Linux
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="运维&lt;---&gt;高可用">
            
            高可用
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="运维&lt;---&gt;云原生">
            
            云原生
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="运维&lt;---&gt;脚本">
            
            脚本
            
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="前端">
            <i class="fold iconfont icon-right"></i>
            前端
            
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="前端&lt;---&gt;框架">
            
            框架
            
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="面试">
            
            面试
            
        </div>
        
    </li>

            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
            
            
    </div>
    <div>
        
            <a class="about  site_url"
               
               href="/about">关于</a>
        
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="32">
<input type="hidden" id="yelog_site_word_count" value="67k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">叶落阁</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">全部文章</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>待完善</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>分布式事务</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>服务调度</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>负载均衡</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>设计模式</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>数据结构与算法</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>数据库</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Activiti</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Docker</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>IDEA</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Java</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Maven</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>MybatisPlus</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Nginx</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>NodeJS</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>RabbitMQ</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>SpringBoot</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>SpringCloudAlibaba</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>SpringCloudNetflix</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Vue</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>websocket</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>xxl-job</a>
            </li>
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        
        <a  class="全部文章 前端 框架 "
           href="/vue/http/"
           data-tag="Vue"
           data-author="" >
            <span class="post-title" title="【Vue】HTTP插件">【Vue】HTTP插件</span>
            <span class="post-date" title="2024-08-15 23:21:00">2024/08/15</span>
        </a>
        
        
        <a  class="全部文章 前端 "
           href="/html/storage/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="【H5】webStorage">【H5】webStorage</span>
            <span class="post-date" title="2024-08-13 22:55:00">2024/08/13</span>
        </a>
        
        
        <a  class="全部文章 前端 框架 "
           href="/vue/component/"
           data-tag="Vue"
           data-author="" >
            <span class="post-title" title="【Vue】组件化编程">【Vue】组件化编程</span>
            <span class="post-date" title="2024-08-08 23:21:00">2024/08/08</span>
        </a>
        
        
        <a  class="全部文章 运维 高可用 "
           href="/nginx/"
           data-tag="负载均衡,Nginx"
           data-author="" >
            <span class="post-title" title="Nginx负载均衡器">Nginx负载均衡器</span>
            <span class="post-date" title="2024-07-29 23:08:00">2024/07/29</span>
        </a>
        
        
        <a  class="全部文章 微服务 大数据 "
           href="/zookeeper/"
           data-tag="服务调度"
           data-author="" >
            <span class="post-title" title="Zookeeper笔记">Zookeeper笔记</span>
            <span class="post-date" title="2024-07-29 23:04:00">2024/07/29</span>
        </a>
        
        
        <a  class="全部文章 微服务 "
           href="/springcloud/springcloud-alibaba/"
           data-tag="SpringCloudAlibaba,分布式事务"
           data-author="" >
            <span class="post-title" title="SpringCloudAlibaba框架">SpringCloudAlibaba框架</span>
            <span class="post-date" title="2024-07-29 23:01:00">2024/07/29</span>
        </a>
        
        
        <a  class="全部文章 微服务 "
           href="/springcloud/springcloud-netflix/"
           data-tag="SpringCloudNetflix"
           data-author="" >
            <span class="post-title" title="SpringCloudNetflix框架">SpringCloudNetflix框架</span>
            <span class="post-date" title="2024-07-29 22:58:00">2024/07/29</span>
        </a>
        
        
        <a  class="全部文章 前端 "
           href="/nodejs/npm/"
           data-tag="NodeJS"
           data-author="" >
            <span class="post-title" title="【Node.js】NPM设置淘宝镜像">【Node.js】NPM设置淘宝镜像</span>
            <span class="post-date" title="2024-07-17 00:56:00">2024/07/17</span>
        </a>
        
        
        <a  class="全部文章 前端 框架 "
           href="/vue/Vuex/"
           data-tag="Vue"
           data-author="" >
            <span class="post-title" title="【Vue】vuex状态管理插件">【Vue】vuex状态管理插件</span>
            <span class="post-date" title="2024-07-15 23:40:00">2024/07/15</span>
        </a>
        
        
        <a  class="全部文章 框架 ORM "
           href="/mybatis/encry/"
           data-tag="MybatisPlus"
           data-author="" >
            <span class="post-title" title="数据库信息加解密">数据库信息加解密</span>
            <span class="post-date" title="2024-07-12 10:47:00">2024/07/12</span>
        </a>
        
        
        <a  class="全部文章 前端 框架 "
           href="/vue/vue-router/"
           data-tag="Vue"
           data-author="" >
            <span class="post-title" title="【Vue】vue-router路由插件">【Vue】vue-router路由插件</span>
            <span class="post-date" title="2024-07-09 22:21:00">2024/07/09</span>
        </a>
        
        
        <a  class="全部文章 前端 框架 "
           href="/vue/vue-ui/"
           data-tag="Vue"
           data-author="" >
            <span class="post-title" title="【Vue】UI组件库">【Vue】UI组件库</span>
            <span class="post-date" title="2024-07-09 21:31:00">2024/07/09</span>
        </a>
        
        
        <a  class="全部文章 理论 运维 工具 框架 计算机网络 高可用 版本控制 大数据 Java 中间件 ORM 持续集成 数据库 IDE 测试 JUC JVM NIO 关系型数据库 非关系型数据库 分库分表 缓存 搜索引擎 日志 WEB Linux 脚本 Spring 视图层 认证授权 文件处理 网络编程 "
           href="/demo/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="示例文档">示例文档</span>
            <span class="post-date" title="2024-06-06 23:51:00">2024/06/06</span>
        </a>
        
        
        <a  class="全部文章 框架 任务调度 "
           href="/xxl-job/"
           data-tag="xxl-job"
           data-author="" >
            <span class="post-title" title="xxl-job分布式任务调度框架">xxl-job分布式任务调度框架</span>
            <span class="post-date" title="2024-06-06 23:51:00">2024/06/06</span>
        </a>
        
        
        <a  class="全部文章 理论 数据结构与算法 "
           href="/data-structure-and-algorithm/algorithm/"
           data-tag="数据结构与算法"
           data-author="" >
            <span class="post-title" title="【数据结构与算法】算法篇">【数据结构与算法】算法篇</span>
            <span class="post-date" title="2024-06-05 23:04:00">2024/06/05</span>
        </a>
        
        
        <a  class="全部文章 中间件 消息队列 "
           href="/mq/mq/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="消息队列">消息队列</span>
            <span class="post-date" title="2024-06-05 22:58:00">2024/06/05</span>
        </a>
        
        
        <a  class="全部文章 中间件 消息队列 面试 "
           href="/interview/rabbitmq/"
           data-tag="RabbitMQ"
           data-author="" >
            <span class="post-title" title="RabbitMQ面试题">RabbitMQ面试题</span>
            <span class="post-date" title="2024-06-05 22:27:00">2024/06/05</span>
        </a>
        
        
        <a  class="全部文章 运维 云原生 "
           href="/docker/2/"
           data-tag="Docker,待完善"
           data-author="" >
            <span class="post-title" title="【Docker】进阶篇">【Docker】进阶篇</span>
            <span class="post-date" title="2024-06-05 21:20:00">2024/06/05</span>
        </a>
        
        
        <a  class="全部文章 中间件 消息队列 "
           href="/mq/rabbitmq/"
           data-tag="RabbitMQ"
           data-author="" >
            <span class="post-title" title="RabbitMQ消息队列">RabbitMQ消息队列</span>
            <span class="post-date" title="2024-06-05 09:59:00">2024/06/05</span>
        </a>
        
        
        <a  class="全部文章 前端 框架 "
           href="/vue/vue2/"
           data-tag="Vue"
           data-author="" >
            <span class="post-title" title="【Vue】Vue2语法">【Vue】Vue2语法</span>
            <span class="post-date" title="2024-06-04 21:30:00">2024/06/04</span>
        </a>
        
        
        <a  class="全部文章 工具 项目构建 "
           href="/maven/"
           data-tag="Maven"
           data-author="" >
            <span class="post-title" title="Maven构建工具">Maven构建工具</span>
            <span class="post-date" title="2024-05-29 22:47:00">2024/05/29</span>
        </a>
        
        
        <a  class="全部文章 Java 新特性 "
           href="/java/java8/"
           data-tag="Java"
           data-author="" >
            <span class="post-title" title="【Java】Java8新特性">【Java】Java8新特性</span>
            <span class="post-date" title="2024-05-29 21:52:00">2024/05/29</span>
        </a>
        
        
        <a  class="全部文章 运维 云原生 "
           href="/docker/1/"
           data-tag="Docker"
           data-author="" >
            <span class="post-title" title="【Docker】基础篇">【Docker】基础篇</span>
            <span class="post-date" title="2024-05-29 12:37:00">2024/05/29</span>
        </a>
        
        
        <a  class="全部文章 理论 设计模式 "
           href="/design-pattern/4/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="【设计模式】行为型设计模式">【设计模式】行为型设计模式</span>
            <span class="post-date" title="2024-05-28 22:27:00">2024/05/28</span>
        </a>
        
        
        <a  class="全部文章 理论 设计模式 "
           href="/design-pattern/3/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="【设计模式】结构型设计模式">【设计模式】结构型设计模式</span>
            <span class="post-date" title="2024-05-28 22:01:00">2024/05/28</span>
        </a>
        
        
        <a  class="全部文章 框架 工作流引擎 "
           href="/activiti/3/"
           data-tag="Activiti,SpringBoot,IDEA"
           data-author="" >
            <span class="post-title" title="【Activiti】整合篇">【Activiti】整合篇</span>
            <span class="post-date" title="2024-05-28 21:49:00">2024/05/28</span>
        </a>
        
        
        <a  class="全部文章 框架 工作流引擎 "
           href="/activiti/2/"
           data-tag="Activiti"
           data-author="" >
            <span class="post-title" title="【Activiti】进阶篇">【Activiti】进阶篇</span>
            <span class="post-date" title="2024-05-28 21:35:00">2024/05/28</span>
        </a>
        
        
        <a  class="全部文章 框架 工作流引擎 "
           href="/activiti/1/"
           data-tag="Activiti"
           data-author="" >
            <span class="post-title" title="【Activiti】基础篇">【Activiti】基础篇</span>
            <span class="post-date" title="2024-05-28 21:23:00">2024/05/28</span>
        </a>
        
        
        <a  class="全部文章 前端 "
           href="/html/websocket/"
           data-tag="websocket"
           data-author="" >
            <span class="post-title" title="【H5】websocket协议">【H5】websocket协议</span>
            <span class="post-date" title="2024-05-28 16:40:00">2024/05/28</span>
        </a>
        
        
        <a  class="全部文章 理论 设计模式 "
           href="/design-pattern/2/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="【设计模式】创建型设计模式">【设计模式】创建型设计模式</span>
            <span class="post-date" title="2024-05-28 15:53:00">2024/05/28</span>
        </a>
        
        
        <a  class="全部文章 理论 设计模式 "
           href="/design-pattern/1/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="【设计模式】七大设计原则">【设计模式】七大设计原则</span>
            <span class="post-date" title="2024-05-27 14:51:00">2024/05/27</span>
        </a>
        
        
        <a  class="全部文章 Java 数据库 "
           href="/java/jdbc/"
           data-tag="Java,数据库"
           data-author="" >
            <span class="post-title" title="【Java】JDBC数据库连接">【Java】JDBC数据库连接</span>
            <span class="post-date" title="2024-05-25 22:24:00">2024/05/25</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-docker/2" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">【Docker】进阶篇</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="运维">运维</a> > 
            
            <a  data-rel="运维&lt;---&gt;云原生">云原生</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color2">Docker</a>
            
            <a class="color4">待完善</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            发布时间 : <time class="date" title='最后更新: 2024-08-16 10:06:56'>2024-06-05 21:20</time>
        
    </div>
    <div class="article-meta">
        
        <span>字数:2.3k</span>
        
        
        <span id="busuanzi_container_page_pv">
            阅读 :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-Docker-%E7%BD%91%E7%BB%9C"><span class="toc-text">1. Docker 网络</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-Docker-%E7%BD%91%E7%BB%9C"><span class="toc-text">1.1. Docker 网络</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-text">1.2. 常用命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-1-%E6%9F%A5%E7%9C%8B%E7%BD%91%E7%BB%9C"><span class="toc-text">1.2.1. 查看网络</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-2-%E5%88%9B%E5%BB%BA%E7%BD%91%E7%BB%9C"><span class="toc-text">1.2.2. 创建网络</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-3-%E5%88%A0%E9%99%A4%E7%BD%91%E7%BB%9C"><span class="toc-text">1.2.3. 删除网络</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-4-%E6%9F%A5%E7%9C%8B%E7%BD%91%E7%BB%9C%E6%BA%90%E6%95%B0%E6%8D%AE"><span class="toc-text">1.2.4. 查看网络源数据</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-%E4%BD%9C%E7%94%A8"><span class="toc-text">1.3. 作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-4-%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%BC%8F"><span class="toc-text">1.4. 网络模式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-1-%E7%AE%80%E4%BB%8B"><span class="toc-text">1.4.1. 简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-2-bridge"><span class="toc-text">1.4.2. bridge</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-3-host"><span class="toc-text">1.4.3. host</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-4-none"><span class="toc-text">1.4.4. none</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-5-container"><span class="toc-text">1.4.5. container</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-6-%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BD%91%E7%BB%9C"><span class="toc-text">1.4.6. 自定义网络</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-5-Docker-%E5%B9%B3%E5%8F%B0%E6%9E%B6%E6%9E%84%E5%9B%BE%E8%A7%A3"><span class="toc-text">1.5. Docker 平台架构图解</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-%E5%AE%B9%E5%99%A8%E7%BC%96%E6%8E%92"><span class="toc-text">2. 容器编排</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-Docker-Compose"><span class="toc-text">2.1. Docker Compose</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-1-%E7%AE%80%E4%BB%8B"><span class="toc-text">2.1.1. 简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-2-%E5%AE%89%E8%A3%85"><span class="toc-text">2.1.2. 安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-3-%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"><span class="toc-text">2.1.3. 核心概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-4-%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4"><span class="toc-text">2.1.4. 操作步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-5-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-text">2.1.5. 常用命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-6-%E6%A1%88%E4%BE%8B%E6%BC%94%E7%A4%BA"><span class="toc-text">2.1.6. 案例演示</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-Rancher"><span class="toc-text">2.2. Rancher</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-K8S"><span class="toc-text">2.3. K8S</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-%E8%BD%BB%E9%87%8F%E7%BA%A7%E5%8F%AF%E8%A7%86%E5%8C%96%E5%B7%A5%E5%85%B7"><span class="toc-text">3. 轻量级可视化工具</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-Portainer"><span class="toc-text">3.1. Portainer</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-1-%E7%AE%80%E4%BB%8B"><span class="toc-text">3.1.1. 简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-2-%E5%AE%89%E8%A3%85"><span class="toc-text">3.1.2. 安装</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-Docker-%E5%AE%B9%E5%99%A8%E7%9B%91%E6%8E%A7"><span class="toc-text">4. Docker 容器监控</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-%E5%8E%9F%E7%94%9F%E5%91%BD%E4%BB%A4"><span class="toc-text">4.1. 原生命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-CIG"><span class="toc-text">4.2. CIG</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-1-%E7%AE%80%E4%BB%8B"><span class="toc-text">4.2.1. 简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-2-%E6%90%AD%E5%BB%BA-CIG-%E7%9B%91%E6%8E%A7%E5%B9%B3%E5%8F%B0"><span class="toc-text">4.2.2. 搭建 CIG 监控平台</span></a></li></ol></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-4 i,
    .toc-level-4 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-Docker-网络"><a href="#1-Docker-网络" class="headerlink" title="1. Docker 网络"></a>1. Docker 网络</h1><h2 id="1-1-Docker-网络"><a href="#1-1-Docker-网络" class="headerlink" title="1.1. Docker 网络"></a>1.1. Docker 网络</h2><ul>
<li>启动 docker 前：</li>
</ul>
<pre><code class="highlight shell"><span class="meta prompt_"># </span><span class="language-bash">ens33：</span>
<span class="meta prompt_"># </span><span class="language-bash">lo：</span>
<span class="meta prompt_"># </span><span class="language-bash">virbr0：如果选择相关虚拟化的服务安装系统后，启动网卡会有一个以网桥连接的私网地址的virbr0网卡，固定默认IP地址为192.168.122.1，是做虚拟机网桥使用，作用是为了连接其上的虚拟网卡提供NAT访问外网的功能。</span></code></pre>

<ul>
<li>启动 docker 后：</li>
</ul>
<pre><code class="highlight shell">ens33：
lo：
virbr0：
docker0：</code></pre>

<h2 id="1-2-常用命令"><a href="#1-2-常用命令" class="headerlink" title="1.2. 常用命令"></a>1.2. 常用命令</h2><h3 id="1-2-1-查看网络"><a href="#1-2-1-查看网络" class="headerlink" title="1.2.1. 查看网络"></a>1.2.1. 查看网络</h3><ul>
<li><strong>语法</strong>：<font>docker network ls</font></li>
</ul>
<h3 id="1-2-2-创建网络"><a href="#1-2-2-创建网络" class="headerlink" title="1.2.2. 创建网络"></a>1.2.2. 创建网络</h3><ul>
<li><strong>语法</strong>：<font>docker network create 网络名</font></li>
</ul>
<h3 id="1-2-3-删除网络"><a href="#1-2-3-删除网络" class="headerlink" title="1.2.3. 删除网络"></a>1.2.3. 删除网络</h3><ul>
<li><strong>语法</strong>：<br><font>docker network rm 网络名</font> # 删除网络<br><font>docker network prune</font> # 删除无用网络</li>
</ul>
<h3 id="1-2-4-查看网络源数据"><a href="#1-2-4-查看网络源数据" class="headerlink" title="1.2.4. 查看网络源数据"></a>1.2.4. 查看网络源数据</h3><ul>
<li><strong>语法</strong>：<font>docker network inspect 网络名</font></li>
<li><strong>示例：</strong></li>
</ul>
<pre><code class="highlight shell">docker network inspect host
<span class="meta prompt_"># </span><span class="language-bash">执行结果</span>
[
    &#123;
        &quot;Name&quot;: &quot;host&quot;,
        &quot;Id&quot;: &quot;47adbf328524a73a3251421bde92d47ecb319c9b959bf09530110d1344c5ad48&quot;,
        &quot;Created&quot;: &quot;2023-10-11T14:24:11.084573474+08:00&quot;,
        &quot;Scope&quot;: &quot;local&quot;,
        &quot;Driver&quot;: &quot;host&quot;,
        &quot;EnableIPv6&quot;: false,
        &quot;IPAM&quot;: &#123;
            &quot;Driver&quot;: &quot;default&quot;,
            &quot;Options&quot;: null,
            &quot;Config&quot;: []
        &#125;,
        &quot;Internal&quot;: false,
        &quot;Attachable&quot;: false,
        &quot;Ingress&quot;: false,
        &quot;ConfigFrom&quot;: &#123;
            &quot;Network&quot;: &quot;&quot;
        &#125;,
        &quot;ConfigOnly&quot;: false,
        &quot;Containers&quot;: &#123;
            &quot;8f02c7656cd1eae57b698377149cbcb9fdbb26f2c657bcc7bc04b6ebfa204150&quot;: &#123;
                &quot;Name&quot;: &quot;freeswitch&quot;,
                &quot;EndpointID&quot;: &quot;3fa6300e49fbd86e25a17a3ca171caea76dd796f3b9caf6c88ca3f6b8a9ad4de&quot;,
                &quot;MacAddress&quot;: &quot;&quot;,
                &quot;IPv4Address&quot;: &quot;&quot;,
                &quot;IPv6Address&quot;: &quot;&quot;
            &#125;
        &#125;,
        &quot;Options&quot;: &#123;&#125;,
        &quot;Labels&quot;: &#123;&#125;
    &#125;
]
</code></pre>

<h2 id="1-3-作用"><a href="#1-3-作用" class="headerlink" title="1.3. 作用"></a>1.3. 作用</h2><ul>
<li>容器间的互联和通信以及端口映射。</li>
<li>容器 IP 变动时候可以通过服务名直接网络通信而不受影响。</li>
</ul>
<h2 id="1-4-网络模式"><a href="#1-4-网络模式" class="headerlink" title="1.4. 网络模式"></a>1.4. 网络模式</h2><h3 id="1-4-1-简介"><a href="#1-4-1-简介" class="headerlink" title="1.4.1. 简介"></a>1.4.1. 简介</h3><ul>
<li><strong>bridge</strong>：<strong>为每个容器分配、设置 IP 等</strong>，并将容器连接到一个 docker0 虚拟网桥，默认为该模式。</li>
<li><strong>host</strong>：容器不会虚拟出自己的网卡，配置自己的 IP 等，而是<strong>使用宿主机的 IP 和端口</strong>。</li>
<li><strong>none</strong>：容器有独立的 network namespace，但并<strong>没有对其进行任何设置</strong>，如分配 veth pair 和网桥连接，IP 等。</li>
<li><strong>container</strong>：新创建的容器不会创建自己的网卡和配置自己的 IP，而是<strong>和一个指定的容器共享 IP、端口范围等</strong>。</li>
</ul>
<h3 id="1-4-2-bridge"><a href="#1-4-2-bridge" class="headerlink" title="1.4.2. bridge"></a>1.4.2. bridge</h3><ul>
<li><strong>语法：</strong><font>docker run [–network bridge] [options] 镜像名或者镜像 ID [command] [args]</font></li>
<li><strong>说明：</strong><ul>
<li>Docker 使用 Linux 桥接，在宿主机虚拟一个 Docker 容器网桥（docker0），Docker 启动一个容器时会根据 Docker 网桥的网段分配给容器一个 IP 地址，称为 Container-IP，同时 Docker 网桥是每个容器的默认网关。因为在同一宿主机内的容器都接入同一个网桥，这样容器之间就能够通过容器的 Container-IP 直接通信。</li>
<li>docker run 没有指定 network 的话默认使用的网桥模式就是 bridge，使用的就是 docker0。在宿主机 ifconfig，就可以看到 docker0 和自己 create 的 network(eth0，eth1，eth2……代表网卡一，网卡二，网卡三……)，lo 代表 127.0.0.1，即 localhost。</li>
<li>网桥 docker0 创建一对对等虚拟设备接口一个叫 veth，另一个叫 eth0，成对匹配。<br><code>整个宿主机的网桥模式都是docker0，类似一个交换机有一堆接口，每个接口叫veth，在本地主机和容器内分别创建一个虚拟接口，并让他们彼此联通（这样一对接口叫veth pair）。</code><br><code>每个容器实例内部也有一块网卡，每个接口叫eth0。</code><br><code>docker0上面的每个veth匹配某个容器实例内部的eth0，两两配对，一一匹配。</code></li>
</ul>
</li>
</ul>
<h3 id="1-4-3-host"><a href="#1-4-3-host" class="headerlink" title="1.4.3. host"></a>1.4.3. host</h3><ul>
<li><strong>语法：</strong><font>docker run –network host [options] 镜像名或者镜像 ID [command] [args]</font></li>
<li><strong>说明：容器将不会获得一个独立的 Network Namespace，而是和宿主机共用一个 Network Namespace</strong>。容器将不会虚拟出自己的网卡而是使用宿主机的 IP 和端口。</li>
</ul>
<h3 id="1-4-4-none"><a href="#1-4-4-none" class="headerlink" title="1.4.4. none"></a>1.4.4. none</h3><ul>
<li><strong>语法：</strong><font>docker run –network none [options] 镜像名或者镜像 ID [command] [args]</font></li>
<li><strong>说明：不对 Docker 容器进行任何网络配置</strong>。这个 Docker 容器没有网卡、IP、路由等信息，只有一个 lo，需要用户为 Docker 容器添加网卡、配置 IP 等。</li>
</ul>
<h3 id="1-4-5-container"><a href="#1-4-5-container" class="headerlink" title="1.4.5. container"></a>1.4.5. container</h3><ul>
<li><strong>语法：</strong><font>docker run –network container:容器名或者容器 ID [options] 镜像名或者镜像 ID [command] [args]</font></li>
<li><strong>说明：新建的容器和已经存在的一个容器共享一个网络 ip 配置而不是和宿主机共享</strong>。新创建的容器不会创建自己的网卡，配置自己的 IP，而是和一个指定的容器共享 IP、端口范围等。同样，两个容器除了网络方面，其他的如文件系统、进程列表等还是隔离的。<strong>指定容器停止，网络不可用</strong>。</li>
</ul>
<h3 id="1-4-6-自定义网络"><a href="#1-4-6-自定义网络" class="headerlink" title="1.4.6. 自定义网络"></a>1.4.6. 自定义网络</h3><ol>
<li>自定义网络。</li>
</ol>
<pre><code class="highlight shell">docker network create fengbiao</code></pre>

<ol start="2">
<li>创建容器。</li>
</ol>
<pre><code class="highlight shell">docker run --network fengbiao --name ct1 -it fengbiao/centos7:2 /bin/bash
docker run --network fengbiao --name ct2 -it fengbiao/centos7:2 /bin/bash</code></pre>

<ol start="3">
<li>测试。</li>
</ol>
<pre><code class="highlight shell"><span class="meta prompt_"># </span><span class="language-bash">进入容器ct1，测试</span>
ping ct2 # 未自定义网络，不支持容器名进行请求；自定义网络，支持容器名进行请求</code></pre>

<h2 id="1-5-Docker-平台架构图解"><a href="#1-5-Docker-平台架构图解" class="headerlink" title="1.5. Docker 平台架构图解"></a>1.5. Docker 平台架构图解</h2><p>TODO</p>
<h1 id="2-容器编排"><a href="#2-容器编排" class="headerlink" title="2. 容器编排"></a>2. 容器编排</h1><h2 id="2-1-Docker-Compose"><a href="#2-1-Docker-Compose" class="headerlink" title="2.1. Docker Compose"></a>2.1. Docker Compose</h2><h3 id="2-1-1-简介"><a href="#2-1-1-简介" class="headerlink" title="2.1.1. 简介"></a>2.1.1. 简介</h3><p>Docker-compose 是 Docker 官方的开源项目，负责实现对 Docker 容器集群的快速编排。</p>
<h3 id="2-1-2-安装"><a href="#2-1-2-安装" class="headerlink" title="2.1.2. 安装"></a>2.1.2. 安装</h3><pre><code class="highlight shell"><span class="meta prompt_"># </span><span class="language-bash">docker-compose官网：https://docs.docker.com/compose/</span>
<span class="meta prompt_"># </span><span class="language-bash">docker-compose下载地址：https://docs.docker.com/compose/install/other/</span>
<span class="meta prompt_"># </span><span class="language-bash">安装docker-compose</span>
curl -SL https://github.com/docker/compose/releases/download/v2.14.2/docker-compose-linux-x86_64 -o /usr/local/bin/docker-compose
chmod +x /usr/local/bin/docker-compose
docker-compose --version
<span class="meta prompt_"># </span><span class="language-bash">卸载docker-compose</span>
rm /usr/local/bin/docker-compose</code></pre>

<h3 id="2-1-3-核心概念"><a href="#2-1-3-核心概念" class="headerlink" title="2.1.3. 核心概念"></a>2.1.3. 核心概念</h3><ul>
<li>一文件：docker-compose.yml</li>
<li>两要素：<ul>
<li>服务：一个个应用容器实例。</li>
<li>工程：由一组关联的应用容器组成的一个完整业务单元，在 docker-compose.yml 文件中定义。</li>
</ul>
</li>
</ul>
<h3 id="2-1-4-操作步骤"><a href="#2-1-4-操作步骤" class="headerlink" title="2.1.4. 操作步骤"></a>2.1.4. 操作步骤</h3><ol>
<li>编写 Dockerfile 构建对应的镜像文件。</li>
<li>使用 docker-compose.yml 定义一个完整业务单元，安排好整体应用中的各个容器服务。</li>
<li>执行 docker-compose up 命令启动并运行整个应用程序，完成一键部署上线。</li>
</ol>
<h3 id="2-1-5-常用命令"><a href="#2-1-5-常用命令" class="headerlink" title="2.1.5. 常用命令"></a>2.1.5. 常用命令</h3><pre><code class="highlight shell">docker-compose -h # 帮助命令
docker-compose up # 启动所有docker-compose服务
docker-compose up -d # 启动所有docker-compose服务并后台运行
docker-compose down # 停止并删除容器、网络、数据卷
docker-compose exec 服务ID [command] [args] # 进入容器实例内容
docker-compose ps # 展示当前docker-compose编排过的运行的所有容器
docker-compose top # 展示当前docker-compose编排过的容器进程
docker-compose logs 服务ID # 查看容器输出日志
docker-compose config # 查看配置
docker-compose config -q # 检查配置，有问题才有输出
docker-compose restart # 重启服务
docker-compose start # 启动服务
docker-compose stop # 停止服务</code></pre>

<h3 id="2-1-6-案例演示"><a href="#2-1-6-案例演示" class="headerlink" title="2.1.6. 案例演示"></a>2.1.6. 案例演示</h3><ol>
<li>搭建 springboot 微服务，配置文件支持服务名代替具体 IP。</li>
<li>构建 docker 微服务镜像。</li>
<li>编写 docker-compose.yml 文件。</li>
</ol>
<pre><div class="caption"><span>docker-compose.yml</span></div><code class="highlight yml"><span class="attr">version:</span> <span class="string">&#x27;3&#x27;</span>
<span class="attr">services:</span>
  <span class="attr">microService:</span>
    <span class="attr">image:</span> <span class="string">shop:0.0.1</span>
    <span class="attr">container_name:</span> <span class="string">shop</span>
    <span class="attr">ports:</span>
      <span class="bullet">-</span> <span class="string">&#x27;8001:8001&#x27;</span>
    <span class="attr">volumes:</span>
      <span class="bullet">-</span> <span class="string">/root/my-shop/shop/data:/data</span>
    <span class="attr">networks:</span>
      <span class="bullet">-</span> <span class="string">fengbiao_net</span>
    <span class="attr">depends_on:</span>
      <span class="bullet">-</span> <span class="string">redis</span>
      <span class="bullet">-</span> <span class="string">mysql</span>
  <span class="attr">redis:</span>
    <span class="attr">image:</span> <span class="string">redis:6.0.8</span>
    <span class="attr">ports:</span>
      <span class="bullet">-</span> <span class="string">&#x27;6380:6379&#x27;</span>
    <span class="attr">volumes:</span>
      <span class="bullet">-</span> <span class="string">/root/my-shop/redis/redis.conf:/etc/redis/redis.conf</span>
      <span class="bullet">-</span> <span class="string">/root/my-shop/redis/data:/data</span>
    <span class="attr">networks:</span>
      <span class="bullet">-</span> <span class="string">fengbiao_net</span>
    <span class="attr">command:</span> <span class="string">redis-server</span> <span class="string">/etc/redis/redis.conf</span>
  <span class="attr">mysql:</span>
    <span class="attr">image:</span> <span class="string">mysql:5.7</span>
    <span class="attr">environment:</span>
      <span class="attr">MYSQL_ROOT_PASSWORD:</span> <span class="string">&#x27;123456&#x27;</span>
      <span class="attr">MYSQL_ALLOW_EMPTY_PASSWORD:</span> <span class="string">&#x27;no&#x27;</span>
      <span class="attr">MYSQL_DATABASE:</span> <span class="string">&#x27;shop&#x27;</span>
    <span class="attr">ports:</span>
      <span class="bullet">-</span> <span class="string">&#x27;33060:3306&#x27;</span>
    <span class="attr">volumes:</span>
      <span class="bullet">-</span> <span class="string">/root/my-shop/mysql/db:/var/lib/mysql</span>
      <span class="bullet">-</span> <span class="string">/root/my-shop/mysql/conf/my.cnf:/etc/my.cnf</span>
      <span class="bullet">-</span> <span class="string">/root/my-shop/mysql/init:/docker-entrypoint-initdb.d</span>
    <span class="attr">networks:</span>
      <span class="bullet">-</span> <span class="string">fengbiao_net</span>
    <span class="attr">command:</span> <span class="string">--default-authentication-plugin=mysql_native_password</span> <span class="comment"># 解决外部无法访问</span>
<span class="attr">networks:</span>
  <span class="attr">fengbiao_net:</span></code></pre>

<ol start="4">
<li>启动服务。</li>
</ol>
<pre><code class="highlight shell">docker-compose up -d</code></pre>

<ol start="5">
<li>创建数据库和表。</li>
<li>停止服务。</li>
</ol>
<pre><code class="highlight shell">docker-compose down</code></pre>

<h2 id="2-2-Rancher"><a href="#2-2-Rancher" class="headerlink" title="2.2. Rancher"></a>2.2. Rancher</h2><p>TODO</p>
<h2 id="2-3-K8S"><a href="#2-3-K8S" class="headerlink" title="2.3. K8S"></a>2.3. K8S</h2><p>TODO</p>
<h1 id="3-轻量级可视化工具"><a href="#3-轻量级可视化工具" class="headerlink" title="3. 轻量级可视化工具"></a>3. 轻量级可视化工具</h1><h2 id="3-1-Portainer"><a href="#3-1-Portainer" class="headerlink" title="3.1. Portainer"></a>3.1. Portainer</h2><h3 id="3-1-1-简介"><a href="#3-1-1-简介" class="headerlink" title="3.1.1. 简介"></a>3.1.1. 简介</h3><p>Portainer 是一款轻量级的应用，它提供了图形化界面，用于方便地管理 Docker 环境，包括单机环境和集群环境。</p>
<h3 id="3-1-2-安装"><a href="#3-1-2-安装" class="headerlink" title="3.1.2. 安装"></a>3.1.2. 安装</h3><pre><code class="highlight shell"><span class="meta prompt_"># </span><span class="language-bash">安装portainer，目前已过期。</span>
<span class="meta prompt_"># </span><span class="language-bash">docker search portainer/portainer</span>
<span class="meta prompt_"># </span><span class="language-bash">docker push portainer/portainer</span>
<span class="meta prompt_"># </span><span class="language-bash">docker run -d -p 8000:8000 -p 9000:9000 --name my-portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v /data/portainer/data:/data portainer/portainer <span class="comment"># 必须将本机/var/run/docker.sock映射给容器</span></span>
<span class="meta prompt_"># </span><span class="language-bash">浏览器请求ip:9000监控本地docker</span>
<span class="meta prompt_"></span>
<span class="meta prompt_"># </span><span class="language-bash">安装portainer-ce</span>
docker run -d -p 8000:8000 -p 9443:9443 --name portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v /data/portainer/data:/data portainer/portainer-ce
<span class="meta prompt_"># </span><span class="language-bash">浏览器请求https://ip:9443监控本地docker</span></code></pre>

<h1 id="4-Docker-容器监控"><a href="#4-Docker-容器监控" class="headerlink" title="4. Docker 容器监控"></a>4. Docker 容器监控</h1><h2 id="4-1-原生命令"><a href="#4-1-原生命令" class="headerlink" title="4.1. 原生命令"></a>4.1. 原生命令</h2><ul>
<li><strong>语法</strong>：<font>docker stats</font></li>
<li><strong>说明</strong>：统计结果只能是当前宿主机的全部容器，数据资料是实时的，没有地方存储、没有健康指标过线预警等功能。</li>
</ul>
<h2 id="4-2-CIG"><a href="#4-2-CIG" class="headerlink" title="4.2. CIG"></a>4.2. CIG</h2><h3 id="4-2-1-简介"><a href="#4-2-1-简介" class="headerlink" title="4.2.1. 简介"></a>4.2.1. 简介</h3><ul>
<li>CAdvisor：监控收集。</li>
<li>InfluxDB：存储数据。</li>
<li>Granfana：展示图表。</li>
</ul>
<h3 id="4-2-2-搭建-CIG-监控平台"><a href="#4-2-2-搭建-CIG-监控平台" class="headerlink" title="4.2.2. 搭建 CIG 监控平台"></a>4.2.2. 搭建 CIG 监控平台</h3><ol>
<li>编写 docker-compose.yml。</li>
</ol>
<pre><div class="caption"><span>docker-compose.yml</span></div><code class="highlight yml"><span class="attr">version:</span> <span class="string">&#x27;3.1&#x27;</span>
<span class="attr">volumes:</span>
  <span class="attr">grafana_data:</span> &#123;&#125;
<span class="attr">services:</span>
  <span class="attr">influxdb:</span>
    <span class="attr">image:</span> <span class="string">tutum/influxdb:0.9</span>
    <span class="attr">restart:</span> <span class="string">always</span>
    <span class="attr">environment:</span>
      <span class="bullet">-</span> <span class="string">PRE_CREATE_DB=cadvisor</span>
    <span class="attr">ports:</span>
      <span class="bullet">-</span> <span class="string">&quot;8083:8083&quot;</span>
      <span class="bullet">-</span> <span class="string">&quot;8086:8086&quot;</span>
    <span class="attr">volumes:</span>
      <span class="bullet">-</span> <span class="string">./data/influxdb:/data</span>
  <span class="attr">cadvisor:</span>
    <span class="attr">image:</span> <span class="string">google/cadvisor</span>
    <span class="attr">links:</span>
      <span class="bullet">-</span> <span class="string">influxdb:influxsrv</span>
    <span class="attr">command:</span> <span class="string">-storage_driver=influxdb</span> <span class="string">-storage_driver_db=cadvisor</span> <span class="string">-storage_driver_host=influxsrv:8086</span>
    <span class="attr">restart:</span> <span class="string">always</span>
    <span class="attr">ports:</span>
      <span class="bullet">-</span> <span class="string">&quot;8080:8080&quot;</span>
    <span class="attr">volumes:</span>
      <span class="bullet">-</span> <span class="string">/:/rootfs:ro</span>
      <span class="bullet">-</span> <span class="string">/var/run:/var/run:rw</span>
      <span class="bullet">-</span> <span class="string">/sys:/sys:ro</span>
      <span class="bullet">-</span> <span class="string">/var/lib/docker/:/var/lib/docker:ro</span>
  <span class="attr">grafana:</span>
    <span class="attr">user:</span> <span class="string">&quot;104&quot;</span>
    <span class="attr">image:</span> <span class="string">grafana/grafana</span>
    <span class="attr">user:</span> <span class="string">&quot;104&quot;</span>
    <span class="attr">restart:</span> <span class="string">always</span>
    <span class="attr">links:</span>
      <span class="bullet">-</span> <span class="string">influxdb:influxsrv</span>
    <span class="attr">ports:</span>
      <span class="bullet">-</span> <span class="string">&quot;3000:3000&quot;</span>
    <span class="attr">volumes:</span>
      <span class="bullet">-</span> <span class="string">grafana_data:/var/lib/grafana</span>
    <span class="attr">environment:</span>
      <span class="bullet">-</span> <span class="string">HTTP_USER=admin</span>
      <span class="bullet">-</span> <span class="string">HTTP_PASS=admin</span>
      <span class="bullet">-</span> <span class="string">INFLUXDB_HOST=influxsrv</span>
      <span class="bullet">-</span> <span class="string">INFLUXDB_PORT=8086</span>
      <span class="bullet">-</span> <span class="string">INFLUXDB_NAME=cadvisor</span>
      <span class="bullet">-</span> <span class="string">INFLUXDB_USER=root</span>
      <span class="bullet">-</span> <span class="string">INFLUXDB_PASS=root</span></code></pre>

<ol start="2">
<li>启动。</li>
</ol>
<pre><div class="caption"><span>shell</span></div><code class="highlight shell">docker-compose up -d</code></pre>

<ol start="3">
<li>测试。</li>
</ol>
<pre><div class="caption"><span>shell</span></div><code class="highlight shell"><span class="meta prompt_"># </span><span class="language-bash">请求CAdvisor收集服务，http://ip:8080</span>
<span class="meta prompt_"># </span><span class="language-bash">请求InfluxDB存储数据，http://ip:8083</span>
<span class="meta prompt_"># </span><span class="language-bash">请求Granfana展示图表，http://ip:3000</span></code></pre>

<ol start="4">
<li>配置展示图表。</li>
</ol>

      
       <hr><span style="font-style: italic;color: gray;"> 不积跬步无以至千里，不积小流无以成江海！ </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">赏</a>
</p>






    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©2015-2024 蜡笔没了小新
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>喜欢就点赞,疼爱就打赏</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.png" class="alipay" title="扫码支持">
            <img src="/img/wechat.png" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">支付宝</label></span><span><label><input type="radio" name="pay" value="weixin">微信</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*高亮代码块行号*/
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 582px;
    }
    .nav.fullscreen {
        margin-left: -582px;
    }
    .nav-left {
        width: 160px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 532px;
        }
        .nav.fullscreen {
            margin-left: -532px;
        }
        .nav-left {
            width: 140px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 532px;
            margin-left: -532px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    
    .nav-right:before {
        content: ' ';
        display: block;
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        opacity: 0.3;
        background: url("/images/20230809225525.png");
        background-repeat: no-repeat;
        background-position: 50% 0;
        -ms-background-size: cover;
        -o-background-size: cover;
        -moz-background-size: cover;
        -webkit-background-size: cover;
        background-size: cover;
    }
    

    
    #post .pjax article :not(pre) > code {
        color: #24292e;
        font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
        background-color: rgba(27,31,35,.05);
        border-radius: 3px;
        font-size: 85%;
        margin: 0;
        padding: .2em .4em;
    }
    
</style>







</html>
