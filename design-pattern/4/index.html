<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>【设计模式】行为型设计模式 | 蜡笔没了小新の笔记</title>
  <meta name="keywords" content=" 设计模式 ">
  <meta name="description" content="【设计模式】行为型设计模式 | 蜡笔没了小新の笔记">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="1. XMLHttpRequest&#x2F;&#x2F; 实例化xhr对象 var xhr &#x3D; new XMLHttpRequest() &#x2F;&#x2F; 建立连接 xhr.open(&#x27;GET&#x27;, &#x27;xxx&#x27;, false) &#x2F;&#x2F; 发送请求 xhr.send()  2. jQueryTODO 待补充 3. vue-resource 安装vue-resource。 npm install">
<meta property="og:type" content="article">
<meta property="og:title" content="【Vue】HTTP插件">
<meta property="og:url" content="http://example.com/vue/http/index.html">
<meta property="og:site_name" content="蜡笔没了小新の笔记">
<meta property="og:description" content="1. XMLHttpRequest&#x2F;&#x2F; 实例化xhr对象 var xhr &#x3D; new XMLHttpRequest() &#x2F;&#x2F; 建立连接 xhr.open(&#x27;GET&#x27;, &#x27;xxx&#x27;, false) &#x2F;&#x2F; 发送请求 xhr.send()  2. jQueryTODO 待补充 3. vue-resource 安装vue-resource。 npm install">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2024-08-15T15:21:00.000Z">
<meta property="article:modified_time" content="2024-08-16T02:06:56.909Z">
<meta property="article:author" content="蜡笔没了小新">
<meta property="article:tag" content="Vue">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/darcula.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 7.2.0"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="/img/avatar.jpg"/>
</a>
<div class="author">
    <span>蜡笔没了小新</span>
</div>

<div class="icon">
    
        
            <a title="github"
               href="https://github.com/fengbiao-github"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-github"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="email"
               href="mailto:2014695858@qq.com"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-email"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="qq"
               href="http://wpa.qq.com/msgrd?v=3&uin=2014695858&site=qq&menu=yes"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-qq"></use>
                    </svg>
                
            </a>
        
    
</div>





<ul>
    <li>
        <div class="all active" data-rel="全部文章">全部文章
            
        </div>
    </li>
    
        
            
                
    <li>
        <div data-rel="理论">
            <i class="fold iconfont icon-right"></i>
            理论
            
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="理论&lt;---&gt;数据结构与算法">
            
            数据结构与算法
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="理论&lt;---&gt;设计模式">
            
            设计模式
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="理论&lt;---&gt;计算机网络">
            
            计算机网络
            
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="Java">
            <i class="fold iconfont icon-right"></i>
            Java
            
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="Java&lt;---&gt;JVM">
            
            JVM
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="Java&lt;---&gt;JUC">
            
            JUC
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="Java&lt;---&gt;新特性">
            
            新特性
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="Java&lt;---&gt;NIO">
            
            NIO
            
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="数据库">
            <i class="fold iconfont icon-right"></i>
            数据库
            
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="数据库&lt;---&gt;关系型数据库">
            
            关系型数据库
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="数据库&lt;---&gt;非关系型数据库">
            
            非关系型数据库
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="数据库&lt;---&gt;分库分表">
            
            分库分表
            
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="框架">
            <i class="fold iconfont icon-right"></i>
            框架
            
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="框架&lt;---&gt;Spring">
            
            Spring
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="框架&lt;---&gt;视图层">
            
            视图层
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="框架&lt;---&gt;ORM">
            
            ORM
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="框架&lt;---&gt;认证授权">
            
            认证授权
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="框架&lt;---&gt;任务调度">
            
            任务调度
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="框架&lt;---&gt;工作流引擎">
            
            工作流引擎
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="框架&lt;---&gt;网络编程">
            
            网络编程
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="框架&lt;---&gt;文件处理">
            
            文件处理
            
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="微服务">
            
            微服务
            
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="中间件">
            <i class="fold iconfont icon-right"></i>
            中间件
            
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="中间件&lt;---&gt;WEB">
            
            WEB
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="中间件&lt;---&gt;缓存">
            
            缓存
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="中间件&lt;---&gt;消息队列">
            
            消息队列
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="中间件&lt;---&gt;搜索引擎">
            
            搜索引擎
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="中间件&lt;---&gt;日志">
            
            日志
            
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="大数据">
            
            大数据
            
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="工具">
            <i class="fold iconfont icon-right"></i>
            工具
            
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="工具&lt;---&gt;IDE">
            
            IDE
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="工具&lt;---&gt;版本控制">
            
            版本控制
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="工具&lt;---&gt;项目构建">
            
            项目构建
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="工具&lt;---&gt;持续集成">
            
            持续集成
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="工具&lt;---&gt;测试">
            
            测试
            
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="运维">
            <i class="fold iconfont icon-right"></i>
            运维
            
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="运维&lt;---&gt;Linux">
            
            Linux
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="运维&lt;---&gt;高可用">
            
            高可用
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="运维&lt;---&gt;云原生">
            
            云原生
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="运维&lt;---&gt;脚本">
            
            脚本
            
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="前端">
            <i class="fold iconfont icon-right"></i>
            前端
            
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="前端&lt;---&gt;框架">
            
            框架
            
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="面试">
            
            面试
            
        </div>
        
    </li>

            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
            
            
    </div>
    <div>
        
            <a class="about  site_url"
               
               href="/about">关于</a>
        
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="32">
<input type="hidden" id="yelog_site_word_count" value="67k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">叶落阁</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">全部文章</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>待完善</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>分布式事务</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>服务调度</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>负载均衡</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>设计模式</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>数据结构与算法</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>数据库</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Activiti</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Docker</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>IDEA</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Java</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Maven</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>MybatisPlus</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Nginx</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>NodeJS</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>RabbitMQ</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>SpringBoot</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>SpringCloudAlibaba</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>SpringCloudNetflix</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Vue</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>websocket</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>xxl-job</a>
            </li>
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        
        <a  class="全部文章 前端 框架 "
           href="/vue/http/"
           data-tag="Vue"
           data-author="" >
            <span class="post-title" title="【Vue】HTTP插件">【Vue】HTTP插件</span>
            <span class="post-date" title="2024-08-15 23:21:00">2024/08/15</span>
        </a>
        
        
        <a  class="全部文章 前端 "
           href="/html/storage/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="【H5】webStorage">【H5】webStorage</span>
            <span class="post-date" title="2024-08-13 22:55:00">2024/08/13</span>
        </a>
        
        
        <a  class="全部文章 前端 框架 "
           href="/vue/component/"
           data-tag="Vue"
           data-author="" >
            <span class="post-title" title="【Vue】组件化编程">【Vue】组件化编程</span>
            <span class="post-date" title="2024-08-08 23:21:00">2024/08/08</span>
        </a>
        
        
        <a  class="全部文章 运维 高可用 "
           href="/nginx/"
           data-tag="负载均衡,Nginx"
           data-author="" >
            <span class="post-title" title="Nginx负载均衡器">Nginx负载均衡器</span>
            <span class="post-date" title="2024-07-29 23:08:00">2024/07/29</span>
        </a>
        
        
        <a  class="全部文章 微服务 大数据 "
           href="/zookeeper/"
           data-tag="服务调度"
           data-author="" >
            <span class="post-title" title="Zookeeper笔记">Zookeeper笔记</span>
            <span class="post-date" title="2024-07-29 23:04:00">2024/07/29</span>
        </a>
        
        
        <a  class="全部文章 微服务 "
           href="/springcloud/springcloud-alibaba/"
           data-tag="SpringCloudAlibaba,分布式事务"
           data-author="" >
            <span class="post-title" title="SpringCloudAlibaba框架">SpringCloudAlibaba框架</span>
            <span class="post-date" title="2024-07-29 23:01:00">2024/07/29</span>
        </a>
        
        
        <a  class="全部文章 微服务 "
           href="/springcloud/springcloud-netflix/"
           data-tag="SpringCloudNetflix"
           data-author="" >
            <span class="post-title" title="SpringCloudNetflix框架">SpringCloudNetflix框架</span>
            <span class="post-date" title="2024-07-29 22:58:00">2024/07/29</span>
        </a>
        
        
        <a  class="全部文章 前端 "
           href="/nodejs/npm/"
           data-tag="NodeJS"
           data-author="" >
            <span class="post-title" title="【Node.js】NPM设置淘宝镜像">【Node.js】NPM设置淘宝镜像</span>
            <span class="post-date" title="2024-07-17 00:56:00">2024/07/17</span>
        </a>
        
        
        <a  class="全部文章 前端 框架 "
           href="/vue/Vuex/"
           data-tag="Vue"
           data-author="" >
            <span class="post-title" title="【Vue】vuex状态管理插件">【Vue】vuex状态管理插件</span>
            <span class="post-date" title="2024-07-15 23:40:00">2024/07/15</span>
        </a>
        
        
        <a  class="全部文章 框架 ORM "
           href="/mybatis/encry/"
           data-tag="MybatisPlus"
           data-author="" >
            <span class="post-title" title="数据库信息加解密">数据库信息加解密</span>
            <span class="post-date" title="2024-07-12 10:47:00">2024/07/12</span>
        </a>
        
        
        <a  class="全部文章 前端 框架 "
           href="/vue/vue-router/"
           data-tag="Vue"
           data-author="" >
            <span class="post-title" title="【Vue】vue-router路由插件">【Vue】vue-router路由插件</span>
            <span class="post-date" title="2024-07-09 22:21:00">2024/07/09</span>
        </a>
        
        
        <a  class="全部文章 前端 框架 "
           href="/vue/vue-ui/"
           data-tag="Vue"
           data-author="" >
            <span class="post-title" title="【Vue】UI组件库">【Vue】UI组件库</span>
            <span class="post-date" title="2024-07-09 21:31:00">2024/07/09</span>
        </a>
        
        
        <a  class="全部文章 理论 运维 工具 框架 计算机网络 高可用 版本控制 大数据 Java 中间件 ORM 持续集成 数据库 IDE 测试 JUC JVM NIO 关系型数据库 非关系型数据库 分库分表 缓存 搜索引擎 日志 WEB Linux 脚本 Spring 视图层 认证授权 文件处理 网络编程 "
           href="/demo/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="示例文档">示例文档</span>
            <span class="post-date" title="2024-06-06 23:51:00">2024/06/06</span>
        </a>
        
        
        <a  class="全部文章 框架 任务调度 "
           href="/xxl-job/"
           data-tag="xxl-job"
           data-author="" >
            <span class="post-title" title="xxl-job分布式任务调度框架">xxl-job分布式任务调度框架</span>
            <span class="post-date" title="2024-06-06 23:51:00">2024/06/06</span>
        </a>
        
        
        <a  class="全部文章 理论 数据结构与算法 "
           href="/data-structure-and-algorithm/algorithm/"
           data-tag="数据结构与算法"
           data-author="" >
            <span class="post-title" title="【数据结构与算法】算法篇">【数据结构与算法】算法篇</span>
            <span class="post-date" title="2024-06-05 23:04:00">2024/06/05</span>
        </a>
        
        
        <a  class="全部文章 中间件 消息队列 "
           href="/mq/mq/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="消息队列">消息队列</span>
            <span class="post-date" title="2024-06-05 22:58:00">2024/06/05</span>
        </a>
        
        
        <a  class="全部文章 中间件 消息队列 面试 "
           href="/interview/rabbitmq/"
           data-tag="RabbitMQ"
           data-author="" >
            <span class="post-title" title="RabbitMQ面试题">RabbitMQ面试题</span>
            <span class="post-date" title="2024-06-05 22:27:00">2024/06/05</span>
        </a>
        
        
        <a  class="全部文章 运维 云原生 "
           href="/docker/2/"
           data-tag="Docker,待完善"
           data-author="" >
            <span class="post-title" title="【Docker】进阶篇">【Docker】进阶篇</span>
            <span class="post-date" title="2024-06-05 21:20:00">2024/06/05</span>
        </a>
        
        
        <a  class="全部文章 中间件 消息队列 "
           href="/mq/rabbitmq/"
           data-tag="RabbitMQ"
           data-author="" >
            <span class="post-title" title="RabbitMQ消息队列">RabbitMQ消息队列</span>
            <span class="post-date" title="2024-06-05 09:59:00">2024/06/05</span>
        </a>
        
        
        <a  class="全部文章 前端 框架 "
           href="/vue/vue2/"
           data-tag="Vue"
           data-author="" >
            <span class="post-title" title="【Vue】Vue2语法">【Vue】Vue2语法</span>
            <span class="post-date" title="2024-06-04 21:30:00">2024/06/04</span>
        </a>
        
        
        <a  class="全部文章 工具 项目构建 "
           href="/maven/"
           data-tag="Maven"
           data-author="" >
            <span class="post-title" title="Maven构建工具">Maven构建工具</span>
            <span class="post-date" title="2024-05-29 22:47:00">2024/05/29</span>
        </a>
        
        
        <a  class="全部文章 Java 新特性 "
           href="/java/java8/"
           data-tag="Java"
           data-author="" >
            <span class="post-title" title="【Java】Java8新特性">【Java】Java8新特性</span>
            <span class="post-date" title="2024-05-29 21:52:00">2024/05/29</span>
        </a>
        
        
        <a  class="全部文章 运维 云原生 "
           href="/docker/1/"
           data-tag="Docker"
           data-author="" >
            <span class="post-title" title="【Docker】基础篇">【Docker】基础篇</span>
            <span class="post-date" title="2024-05-29 12:37:00">2024/05/29</span>
        </a>
        
        
        <a  class="全部文章 理论 设计模式 "
           href="/design-pattern/4/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="【设计模式】行为型设计模式">【设计模式】行为型设计模式</span>
            <span class="post-date" title="2024-05-28 22:27:00">2024/05/28</span>
        </a>
        
        
        <a  class="全部文章 理论 设计模式 "
           href="/design-pattern/3/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="【设计模式】结构型设计模式">【设计模式】结构型设计模式</span>
            <span class="post-date" title="2024-05-28 22:01:00">2024/05/28</span>
        </a>
        
        
        <a  class="全部文章 框架 工作流引擎 "
           href="/activiti/3/"
           data-tag="Activiti,SpringBoot,IDEA"
           data-author="" >
            <span class="post-title" title="【Activiti】整合篇">【Activiti】整合篇</span>
            <span class="post-date" title="2024-05-28 21:49:00">2024/05/28</span>
        </a>
        
        
        <a  class="全部文章 框架 工作流引擎 "
           href="/activiti/2/"
           data-tag="Activiti"
           data-author="" >
            <span class="post-title" title="【Activiti】进阶篇">【Activiti】进阶篇</span>
            <span class="post-date" title="2024-05-28 21:35:00">2024/05/28</span>
        </a>
        
        
        <a  class="全部文章 框架 工作流引擎 "
           href="/activiti/1/"
           data-tag="Activiti"
           data-author="" >
            <span class="post-title" title="【Activiti】基础篇">【Activiti】基础篇</span>
            <span class="post-date" title="2024-05-28 21:23:00">2024/05/28</span>
        </a>
        
        
        <a  class="全部文章 前端 "
           href="/html/websocket/"
           data-tag="websocket"
           data-author="" >
            <span class="post-title" title="【H5】websocket协议">【H5】websocket协议</span>
            <span class="post-date" title="2024-05-28 16:40:00">2024/05/28</span>
        </a>
        
        
        <a  class="全部文章 理论 设计模式 "
           href="/design-pattern/2/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="【设计模式】创建型设计模式">【设计模式】创建型设计模式</span>
            <span class="post-date" title="2024-05-28 15:53:00">2024/05/28</span>
        </a>
        
        
        <a  class="全部文章 理论 设计模式 "
           href="/design-pattern/1/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="【设计模式】七大设计原则">【设计模式】七大设计原则</span>
            <span class="post-date" title="2024-05-27 14:51:00">2024/05/27</span>
        </a>
        
        
        <a  class="全部文章 Java 数据库 "
           href="/java/jdbc/"
           data-tag="Java,数据库"
           data-author="" >
            <span class="post-title" title="【Java】JDBC数据库连接">【Java】JDBC数据库连接</span>
            <span class="post-date" title="2024-05-25 22:24:00">2024/05/25</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-design-pattern/4" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">【设计模式】行为型设计模式</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="理论">理论</a> > 
            
            <a  data-rel="理论&lt;---&gt;设计模式">设计模式</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color5">设计模式</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            发布时间 : <time class="date" title='最后更新: 2024-08-16 10:06:56'>2024-05-28 22:27</time>
        
    </div>
    <div class="article-meta">
        
        <span>字数:4.1k</span>
        
        
        <span id="busuanzi_container_page_pv">
            阅读 :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-%E6%A8%A1%E6%9D%BF%E6%A8%A1%E5%BC%8F"><span class="toc-text">1. 模板模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-%E4%BD%9C%E7%94%A8"><span class="toc-text">1.1. 作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">1.2. 应用场景</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-text">1.3. 代码实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-4-%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%E4%B9%8B-IOC-%E5%AE%B9%E5%99%A8%E5%88%9D%E5%A7%8B%E5%8C%96%EF%BC%88Spring%EF%BC%89"><span class="toc-text">1.4. 源码解析之 IOC 容器初始化（Spring）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F"><span class="toc-text">2. 命令模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-%E4%BD%9C%E7%94%A8"><span class="toc-text">2.1. 作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">2.2. 应用场景</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-text">2.3. 代码实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%E4%B9%8B-JdbcTemplate"><span class="toc-text">2.4. 源码解析之 JdbcTemplate</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="toc-text">3. 访问者模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-%E4%BD%9C%E7%94%A8"><span class="toc-text">3.1. 作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">3.2. 应用场景</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-text">3.3. 代码实现</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F"><span class="toc-text">4. 迭代器模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-%E4%BD%9C%E7%94%A8"><span class="toc-text">4.1. 作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">4.2. 应用场景</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-3-%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-text">4.3. 代码实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-4-%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%E4%B9%8B-ArrayList"><span class="toc-text">4.4. 源码解析之 ArrayList</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="toc-text">5. 观察者模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1-%E4%BD%9C%E7%94%A8"><span class="toc-text">5.1. 作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-2-%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">5.2. 应用场景</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-3-%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-text">5.3. 代码实现</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-1-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AE%9E%E7%8E%B0"><span class="toc-text">5.3.1. 自定义实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-2-JDK"><span class="toc-text">5.3.2. JDK</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="toc-text">6. 中介者模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#6-1-%E4%BD%9C%E7%94%A8"><span class="toc-text">6.1. 作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-2-%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">6.2. 应用场景</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F"><span class="toc-text">7. 备忘录模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#7-1-%E4%BD%9C%E7%94%A8"><span class="toc-text">7.1. 作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-2-%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">7.2. 应用场景</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-3-%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-text">7.3. 代码实现</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8-%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F"><span class="toc-text">8. 解释器模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#8-1-%E4%BD%9C%E7%94%A8"><span class="toc-text">8.1. 作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-2-%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">8.2. 应用场景</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-3%E3%80%81%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-text">8.3、代码实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-4-%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%E4%B9%8B-SpelExpressionParser%EF%BC%88Spring%EF%BC%89"><span class="toc-text">8.4. 源码解析之 SpelExpressionParser（Spring）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#9-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F"><span class="toc-text">9. 状态模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#9-1-%E4%BD%9C%E7%94%A8"><span class="toc-text">9.1. 作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-2-%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">9.2. 应用场景</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-3-%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-text">9.3. 代码实现</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#10-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F"><span class="toc-text">10. 策略模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#10-1-%E4%BD%9C%E7%94%A8"><span class="toc-text">10.1. 作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-2-%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">10.2. 应用场景</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-3-%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-text">10.3. 代码实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-4-%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%E4%B9%8B-Arrays-sort"><span class="toc-text">10.4. 源码解析之 Arrays.sort()</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#11-%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F"><span class="toc-text">11. 责任链模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#11-1-%E4%BD%9C%E7%94%A8"><span class="toc-text">11.1. 作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-2-%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">11.2. 应用场景</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-3-%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-text">11.3. 代码实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-4-%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%E4%B9%8B-SpringMVC"><span class="toc-text">11.4. 源码解析之 SpringMVC</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#12-%E6%80%BB%E7%BB%93"><span class="toc-text">12. 总结</span></a></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-4 i,
    .toc-level-4 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-模板模式"><a href="#1-模板模式" class="headerlink" title="1. 模板模式"></a>1. 模板模式</h1><h2 id="1-1-作用"><a href="#1-1-作用" class="headerlink" title="1.1. 作用"></a>1.1. 作用</h2><p><font>处理步骤父类中已经定义，具体实现延迟到子类中实现</font>。</p>
<h2 id="1-2-应用场景"><a href="#1-2-应用场景" class="headerlink" title="1.2. 应用场景"></a>1.2. 应用场景</h2><ul>
<li>数据库访问的封装。</li>
<li>Junit 单元测试。</li>
<li>Servlet 中关于 doGet 和 doPost 方法调用。</li>
<li>Hibernate 中模板程序。</li>
<li>Spring 中 JDBCTemplate 和 HibernateTemplate。</li>
</ul>
<h2 id="1-3-代码实现"><a href="#1-3-代码实现" class="headerlink" title="1.3. 代码实现"></a>1.3. 代码实现</h2><pre><div class="caption"><span>House.java</span></div><code class="highlight java"><span class="comment">// 抽象类</span>
<span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">House</span> &#123;
    <span class="comment">// 模板方法，常用final修饰防止子类覆写</span>
    <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">build</span><span class="params">()</span> &#123;
        layFoundation();
        bricklay();
        cement();
        finish();
    &#125;
    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">layFoundation</span><span class="params">()</span>;
    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">bricklay</span><span class="params">()</span>;
    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">cement</span><span class="params">()</span>;
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">finish</span><span class="params">()</span> &#123;
        <span class="comment">// 钩子方法，默认不做任何事情，子类决定要不要覆写</span>
    &#125;
&#125;</code></pre>

<pre><div class="caption"><span>CommonHouse.java</span></div><code class="highlight java"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CommonHouse</span> <span class="keyword">extends</span> <span class="title class_">House</span> &#123;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">layFoundation</span><span class="params">()</span> &#123;
        System.out.println(<span class="string">&quot;打地基...&quot;</span>);
    &#125;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cement</span><span class="params">()</span> &#123;
        System.out.println(<span class="string">&quot;砌砖...&quot;</span>);
    &#125;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">bricklay</span><span class="params">()</span> &#123;
        System.out.println(<span class="string">&quot;打水泥...&quot;</span>);
    &#125;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">finish</span><span class="params">()</span> &#123;
        System.out.println(<span class="string">&quot;房子建好，等待入住&quot;</span>);
    &#125;
&#125;</code></pre>

<h2 id="1-4-源码解析之-IOC-容器初始化（Spring）"><a href="#1-4-源码解析之-IOC-容器初始化（Spring）" class="headerlink" title="1.4. 源码解析之 IOC 容器初始化（Spring）"></a>1.4. 源码解析之 IOC 容器初始化（Spring）</h2><pre><div class="caption"><span>ConfigurableApplicationContext.java</span></div><code class="highlight java"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ConfigurableApplicationContext</span> <span class="keyword">extends</span> <span class="title class_">ApplicationContext</span>, Lifecycle, Closeable &#123;
    <span class="comment">// 声明的模板方法</span>
    <span class="keyword">void</span> <span class="title function_">refresh</span><span class="params">()</span> <span class="keyword">throws</span> BeansException, IllegalStateException;
&#125;</code></pre>

<pre><div class="caption"><span>AbstractApplicationContext.java</span></div><code class="highlight java"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">AbstractApplicationContext</span> <span class="keyword">extends</span> <span class="title class_">DefaultResourceLoader</span> <span class="keyword">implements</span> <span class="title class_">ConfigurableApplicationContext</span> &#123;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">refresh</span><span class="params">()</span> <span class="keyword">throws</span> BeansException, IllegalStateException &#123;
        <span class="type">ConfigurableListableBeanFactory</span> <span class="variable">beanFactory</span> <span class="operator">=</span> obtainFreshBeanFactory();
        <span class="comment">// 钩子方法</span>
        postProcessBeanFactory(beanFactory);
        <span class="comment">// 钩子方法</span>
        onRefresh();
    &#125;
    <span class="keyword">protected</span> ConfigurableListableBeanFactory <span class="title function_">obtainFreshBeanFactory</span><span class="params">()</span> &#123;
        refreshBeanFactory();
        <span class="keyword">return</span> getBeanFactory();
    &#125;
    <span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">refreshBeanFactory</span><span class="params">()</span> <span class="keyword">throws</span> BeansException, IllegalStateException;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="keyword">abstract</span> ConfigurableListableBeanFactory <span class="title function_">getBeanFactory</span><span class="params">()</span> <span class="keyword">throws</span> IllegalStateException;
&#125;</code></pre>

<h1 id="2-命令模式"><a href="#2-命令模式" class="headerlink" title="2. 命令模式"></a>2. 命令模式</h1><h2 id="2-1-作用"><a href="#2-1-作用" class="headerlink" title="2.1. 作用"></a>2.1. 作用</h2><ul>
<li><strong>使得请求发送者与请求接收者解耦。</strong>命令模式可能导致系统有过多的具体命令类，增加系统的复杂度。</li>
<li>空命令也是一种设计模式，可以省去判空的操作。</li>
</ul>
<h2 id="2-2-应用场景"><a href="#2-2-应用场景" class="headerlink" title="2.2. 应用场景"></a>2.2. 应用场景</h2><p>认为是命令的地方都可以使用命令模式。</p>
<h2 id="2-3-代码实现"><a href="#2-3-代码实现" class="headerlink" title="2.3. 代码实现"></a>2.3. 代码实现</h2><pre><div class="caption"><span>Command.java</span></div><code class="highlight java"><span class="comment">// 命令接口</span>
<span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Command</span> &#123;
    <span class="keyword">void</span> <span class="title function_">exec</span><span class="params">()</span>;
    <span class="keyword">void</span> <span class="title function_">undo</span><span class="params">()</span>;
&#125;</code></pre>

<pre><div class="caption"><span>LightOnCommand.java</span></div><code class="highlight java"><span class="comment">// 命令实现类</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LightOnCommand</span> <span class="keyword">implements</span> <span class="title class_">Command</span> &#123;
    <span class="keyword">private</span> LightReceiver receiver;
    <span class="keyword">public</span> <span class="title function_">LightOnCommand</span><span class="params">(LightReceiver receiver)</span> &#123;
        <span class="built_in">super</span>();
        <span class="built_in">this</span>.receiver = receiver;
    &#125;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">exec</span><span class="params">()</span> &#123;
        receiver.on();
    &#125;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">undo</span><span class="params">()</span> &#123;
        receiver.off();
    &#125;

&#125;</code></pre>

<pre><div class="caption"><span>LightOffCommand.java</span></div><code class="highlight java"><span class="comment">// 命令实现类</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LightOffCommand</span> <span class="keyword">implements</span> <span class="title class_">Command</span> &#123;
    <span class="keyword">private</span> LightReceiver receiver;
    <span class="keyword">public</span> <span class="title function_">LightOffCommand</span><span class="params">(LightReceiver receiver)</span> &#123;
        <span class="built_in">super</span>();
        <span class="built_in">this</span>.receiver = receiver;
    &#125;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">exec</span><span class="params">()</span> &#123;
        receiver.off();
    &#125;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">undo</span><span class="params">()</span> &#123;
        receiver.on();
    &#125;
&#125;</code></pre>

<pre><div class="caption"><span>VoidCommand.java</span></div><code class="highlight java"><span class="comment">// 命令实现类</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VoidCommand</span> <span class="keyword">implements</span> <span class="title class_">Command</span> &#123;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">exec</span><span class="params">()</span> &#123;
    &#125;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">undo</span><span class="params">()</span> &#123;
    &#125;
&#125;</code></pre>

<pre><div class="caption"><span>LightReceiver.java</span></div><code class="highlight java"><span class="comment">// 命令接收者</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LightReceiver</span> &#123;
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">on</span><span class="params">()</span> &#123;
        System.out.println(<span class="string">&quot;开灯&quot;</span>);
    &#125;
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">off</span><span class="params">()</span> &#123;
        System.out.println(<span class="string">&quot;关灯&quot;</span>);
    &#125;
&#125;</code></pre>

<pre><div class="caption"><span>CommandController.java</span></div><code class="highlight java"><span class="comment">// 命令调用者</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CommandController</span> &#123;
    <span class="keyword">private</span> Command[] onCommands = <span class="keyword">new</span> <span class="title class_">Command</span>[<span class="number">5</span>];
    <span class="keyword">private</span> Command[] offCommands = <span class="keyword">new</span> <span class="title class_">Command</span>[<span class="number">5</span>];
    <span class="keyword">private</span> <span class="type">Command</span> <span class="variable">latestCommand</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VoidCommand</span>();
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCommand</span><span class="params">(<span class="type">int</span> index, Command onCommand, Command offCommand)</span> &#123;
        onCommands[index] = onCommand;
        offCommands[index] = offCommand;
    &#125;
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onButtonPushed</span><span class="params">(<span class="type">int</span> index)</span> &#123;
        onCommands[index].exec();
        latestCommand = onCommands[index];
    &#125;
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">offButtonPushed</span><span class="params">(<span class="type">int</span> index)</span> &#123;
        offCommands[index].exec();
        latestCommand = offCommands[index];
    &#125;
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">undoButtonPushed</span><span class="params">(<span class="type">int</span> index)</span> &#123;
        latestCommand.undo();
    &#125;
&#125;</code></pre>

<pre><code class="highlight java"><span class="meta">@Test</span>
<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;
    <span class="type">LightReceiver</span> <span class="variable">lightReceiver</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LightReceiver</span>();
    <span class="type">CommandController</span> <span class="variable">commandController</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CommandController</span>();
    commandController.setCommand(<span class="number">1</span>, <span class="keyword">new</span> <span class="title class_">LightOnCommand</span>(lightReceiver), <span class="keyword">new</span> <span class="title class_">LightOffCommand</span>(lightReceiver));
    commandController.onButtonPushed(<span class="number">1</span>);
    commandController.offButtonPushed(<span class="number">1</span>);
    commandController.undoButtonPushed(<span class="number">1</span>);
&#125;</code></pre>

<h2 id="2-4-源码解析之-JdbcTemplate"><a href="#2-4-源码解析之-JdbcTemplate" class="headerlink" title="2.4. 源码解析之 JdbcTemplate"></a>2.4. 源码解析之 JdbcTemplate</h2><p><code>StatementCallback：命令接口。</code><br><code>QueryStatementCallback：命令实现、命令接收者。</code><br><code>JdbcTemplate：命令调用者。</code></p>
<h1 id="3-访问者模式"><a href="#3-访问者模式" class="headerlink" title="3. 访问者模式"></a>3. 访问者模式</h1><h2 id="3-1-作用"><a href="#3-1-作用" class="headerlink" title="3.1. 作用"></a>3.1. 作用</h2><ul>
<li>封装一些作用于某种数据结构的各元素的操作，可以在不改变数据结构的前提下定义作用于这些元素的新的操作。</li>
<li>主要将数据结构与数据操作分离，解决数据结构和操作耦合性问题。</li>
</ul>
<h2 id="3-2-应用场景"><a href="#3-2-应用场景" class="headerlink" title="3.2. 应用场景"></a>3.2. 应用场景</h2><p>如果一个系统有比较稳定的数据结构，又有经常变化的功能需求。</p>
<h2 id="3-3-代码实现"><a href="#3-3-代码实现" class="headerlink" title="3.3. 代码实现"></a>3.3. 代码实现</h2><pre><div class="caption"><span>ComputerPart.java</span></div><code class="highlight java"><span class="comment">// 元素接口</span>
<span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ComputerPart</span> &#123;
    <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(ComputerPartVisitor computerPartVisitor)</span>;
&#125;</code></pre>

<pre><div class="caption"><span>Keyboard.java</span></div><code class="highlight java"><span class="comment">// 具体元素</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Keyboard</span>  <span class="keyword">implements</span> <span class="title class_">ComputerPart</span> &#123;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(ComputerPartVisitor computerPartVisitor)</span> &#123;
        computerPartVisitor.visit(<span class="built_in">this</span>);
    &#125;
&#125;</code></pre>

<pre><div class="caption"><span>Monitor.java</span></div><code class="highlight java"><span class="comment">// 具体元素</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Monitor</span>  <span class="keyword">implements</span> <span class="title class_">ComputerPart</span> &#123;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(ComputerPartVisitor computerPartVisitor)</span> &#123;
        computerPartVisitor.visit(<span class="built_in">this</span>);
    &#125;
&#125;</code></pre>

<pre><div class="caption"><span>Computer.java</span></div><code class="highlight java"><span class="comment">// 具体元素</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Computer</span> <span class="keyword">implements</span> <span class="title class_">ComputerPart</span> &#123;
    ComputerPart[] parts;
    <span class="keyword">public</span> <span class="title function_">Computer</span><span class="params">()</span>&#123;
        parts = <span class="keyword">new</span> <span class="title class_">ComputerPart</span>[] &#123;<span class="keyword">new</span> <span class="title class_">Mouse</span>(), <span class="keyword">new</span> <span class="title class_">Keyboard</span>(), <span class="keyword">new</span> <span class="title class_">Monitor</span>()&#125;;
    &#125;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(ComputerPartVisitor computerPartVisitor)</span> &#123;
        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; parts.length; i++) &#123;
            parts[i].accept(computerPartVisitor);
        &#125;
        computerPartVisitor.visit(<span class="built_in">this</span>);
    &#125;
&#125;</code></pre>

<pre><div class="caption"><span>ComputerPartVisitor.java</span></div><code class="highlight java"><span class="comment">// 访问者接口</span>
<span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ComputerPartVisitor</span> &#123;
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">visit</span><span class="params">(Computer computer)</span>;
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">visit</span><span class="params">(Mouse mouse)</span>;
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">visit</span><span class="params">(Keyboard keyboard)</span>;
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">visit</span><span class="params">(Monitor monitor)</span>;
&#125;</code></pre>

<pre><div class="caption"><span>ComputerPartDisplayVisitor.java</span></div><code class="highlight java"><span class="comment">// 具体访问者</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ComputerPartDisplayVisitor</span> <span class="keyword">implements</span> <span class="title class_">ComputerPartVisitor</span> &#123;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">visit</span><span class="params">(Computer computer)</span> &#123;
        System.out.println(<span class="string">&quot;Displaying Computer.&quot;</span>);
    &#125;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">visit</span><span class="params">(Mouse mouse)</span> &#123;
        System.out.println(<span class="string">&quot;Displaying Mouse.&quot;</span>);
    &#125;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">visit</span><span class="params">(Keyboard keyboard)</span> &#123;
        System.out.println(<span class="string">&quot;Displaying Keyboard.&quot;</span>);
    &#125;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">visit</span><span class="params">(Monitor monitor)</span> &#123;
        System.out.println(<span class="string">&quot;Displaying Monitor.&quot;</span>);
    &#125;
&#125;</code></pre>

<pre><code class="highlight java"><span class="meta">@Test</span>
<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;
    <span class="type">ComputerPart</span> <span class="variable">computer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Computer</span>();
    computer.accept(<span class="keyword">new</span> <span class="title class_">ComputerPartDisplayVisitor</span>());
&#125;</code></pre>

<h1 id="4-迭代器模式"><a href="#4-迭代器模式" class="headerlink" title="4. 迭代器模式"></a>4. 迭代器模式</h1><h2 id="4-1-作用"><a href="#4-1-作用" class="headerlink" title="4.1. 作用"></a>4.1. 作用</h2><p><strong>提供一种遍历集合元素的统一接口，用一致的方法遍历集合元素，不需要知道集合对象的底层。</strong></p>
<h2 id="4-2-应用场景"><a href="#4-2-应用场景" class="headerlink" title="4.2. 应用场景"></a>4.2. 应用场景</h2><p>JDK 中 List 和 Set 内置迭代器。</p>
<h2 id="4-3-代码实现"><a href="#4-3-代码实现" class="headerlink" title="4.3. 代码实现"></a>4.3. 代码实现</h2><pre><div class="caption"><span>Iterator.java</span></div><code class="highlight java"><span class="comment">// 迭代器接口</span>
<span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Iterator</span>&lt;E&gt; &#123;
    <span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span>;
    <span class="keyword">void</span> <span class="title function_">reset</span><span class="params">()</span>;
    E <span class="title function_">next</span><span class="params">()</span>;
    <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">()</span>;
&#125;</code></pre>

<pre><div class="caption"><span>Collection.java</span></div><code class="highlight java"><span class="comment">// 聚合接口</span>
<span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Collection</span>&lt;E&gt; &#123;
    Iterator&lt;E&gt; <span class="title function_">iterator</span><span class="params">()</span>;
&#125;</code></pre>

<pre><div class="caption"><span>MyList.java</span></div><code class="highlight java"> <span class="comment">// 聚合实现</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyList</span>&lt;E&gt; <span class="keyword">implements</span> <span class="title class_">Collection</span>&lt;E&gt; &#123;
    <span class="keyword">private</span> List&lt;E&gt; data;
    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">cursor</span> <span class="operator">=</span> <span class="number">0</span>;
    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> <span class="number">0</span>;
    <span class="keyword">public</span> <span class="title function_">MyList</span><span class="params">(List&lt;E&gt; list)</span> &#123;
        <span class="keyword">if</span> (list != <span class="literal">null</span>) &#123;
            data = list;
            size = list.size();
        &#125;
    &#125;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> Iterator&lt;E&gt; <span class="title function_">iterator</span><span class="params">()</span> &#123;
        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MyListIterator</span>();
    &#125;
    <span class="comment">// 迭代器实现</span>
    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyListIterator</span> <span class="keyword">implements</span> <span class="title class_">Iterator</span>&lt;E&gt; &#123;
        <span class="meta">@Override</span>
        <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span> &#123;
            <span class="keyword">return</span> MyList.<span class="built_in">this</span>.cursor &lt; MyList.<span class="built_in">this</span>.size;
        &#125;
        <span class="meta">@Override</span>
        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">reset</span><span class="params">()</span> &#123;
            MyList.<span class="built_in">this</span>.cursor = <span class="number">0</span>; <span class="comment">// this和super用途</span>
        &#125;
        <span class="meta">@Override</span>
        <span class="keyword">public</span> E <span class="title function_">next</span><span class="params">()</span> &#123;
            <span class="keyword">return</span> MyList.<span class="built_in">this</span>.data.get(cursor++);
        &#125;
        <span class="meta">@Override</span>
        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">()</span> &#123;
        &#125;
    &#125;
&#125;</code></pre>

<pre><code class="highlight java"><span class="meta">@Test</span>
<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;
    List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;();
    list.add(<span class="number">1</span>);
    list.add(<span class="number">1</span>);
    list.add(<span class="number">2</span>);
    list.add(<span class="number">3</span>);
    list.add(<span class="number">5</span>);
    MyList&lt;Integer&gt; myList = <span class="keyword">new</span> <span class="title class_">MyList</span>&lt;&gt;(list);
    Iterator&lt;Integer&gt; iterator = myList.iterator();
    <span class="keyword">while</span> (iterator.hasNext()) &#123;
        <span class="type">Integer</span> <span class="variable">next</span> <span class="operator">=</span> iterator.next();
        System.out.println(next);
    &#125;
    System.out.println(<span class="string">&quot;重置MyList&quot;</span>);
    iterator.reset();
    <span class="keyword">while</span> (iterator.hasNext()) &#123;
        <span class="type">Integer</span> <span class="variable">next</span> <span class="operator">=</span> iterator.next();
        System.out.println(next);
    &#125;
&#125;</code></pre>

<h2 id="4-4-源码解析之-ArrayList"><a href="#4-4-源码解析之-ArrayList" class="headerlink" title="4.4. 源码解析之 ArrayList"></a>4.4. 源码解析之 ArrayList</h2><h1 id="5-观察者模式"><a href="#5-观察者模式" class="headerlink" title="5. 观察者模式"></a>5. 观察者模式</h1><h2 id="5-1-作用"><a href="#5-1-作用" class="headerlink" title="5.1. 作用"></a>5.1. 作用</h2><p>定义对象间的一种一对多的依赖关系，<strong>当一个对象的状态发生改变时，所有依赖于它的对象都得到通知并被自动更新。</strong></p>
<h2 id="5-2-应用场景"><a href="#5-2-应用场景" class="headerlink" title="5.2. 应用场景"></a>5.2. 应用场景</h2><ul>
<li>聊天室。</li>
<li>网络游戏多人联机对战。</li>
<li>邮件订阅。</li>
<li>Servlet 监听器底层实现。</li>
<li>Android 广播机制。</li>
<li>JDK 中 AWT 事件处理模型基于观察者模式的委派事件模型。</li>
<li>京东群发打折消息。</li>
</ul>
<h2 id="5-3-代码实现"><a href="#5-3-代码实现" class="headerlink" title="5.3. 代码实现"></a>5.3. 代码实现</h2><h3 id="5-3-1-自定义实现"><a href="#5-3-1-自定义实现" class="headerlink" title="5.3.1. 自定义实现"></a>5.3.1. 自定义实现</h3><pre><div class="caption"><span>Subject.java</span></div><code class="highlight java"><span class="comment">// 主题（Subject）：也称为被观察者或可观察者，它是具有状态的对象，并维护着一个观察者列表。主题提供了添加、删除和通知观察者的方法。</span>
<span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Subject</span> &#123;
    <span class="keyword">void</span> <span class="title function_">registerObserver</span><span class="params">(IObserver observer)</span>;
    <span class="keyword">void</span> <span class="title function_">removeObserver</span><span class="params">(IObserver observer)</span>;
    <span class="keyword">void</span> <span class="title function_">notifyObservers</span><span class="params">()</span>;
&#125;</code></pre>

<pre><div class="caption"><span>IObserver.java</span></div><code class="highlight java"><span class="comment">// 观察者（Observer）：观察者是接收主题通知的对象。观察者需要实现一个更新方法，当收到主题的通知时，调用该方法进行更新操作。</span>
<span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">IObserver</span> &#123;
    <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(Object object)</span>;
&#125;</code></pre>

<pre><div class="caption"><span>Weather.java</span></div><code class="highlight java"><span class="comment">// 具体主题（Concrete Subject）：具体主题是主题的具体实现类。它维护着观察者列表，并在状态发生改变时通知观察者。</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Weather</span> <span class="keyword">implements</span> <span class="title class_">Subject</span> &#123;
    <span class="keyword">private</span> <span class="type">double</span> temperature;
    <span class="keyword">private</span> List&lt;IObserver&gt; observers = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setTemperature</span><span class="params">(<span class="type">double</span> temperature)</span> &#123;
        <span class="built_in">this</span>.temperature = temperature;
        notifyObservers();
    &#125;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">registerObserver</span><span class="params">(IObserver observer)</span> &#123;
        observers.add(observer);
    &#125;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">removeObserver</span><span class="params">(IObserver observer)</span> &#123;
        observers.remove(observer);
    &#125;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">notifyObservers</span><span class="params">()</span> &#123;
        <span class="keyword">for</span> (IObserver observer : observers) &#123;
            observer.update(temperature);
        &#125;
    &#125;
&#125;</code></pre>

<pre><div class="caption"><span>ObserverImpl.java</span></div><code class="highlight java"><span class="comment">// 具体观察者（Concrete Observer）：具体观察者是观察者的具体实现类。它实现了更新方法，定义了在收到主题通知时需要执行的具体操作。</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ObserverImpl</span> <span class="keyword">implements</span> <span class="title class_">IObserver</span> &#123;
    <span class="keyword">private</span> String name;
    <span class="keyword">public</span> <span class="title function_">ObserverImpl</span><span class="params">(String name)</span> &#123;
        <span class="built_in">super</span>();
        <span class="built_in">this</span>.name = name;
    &#125;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(Object object)</span> &#123;
        System.out.println(name + <span class="string">&quot;观察到温度变为&quot;</span> + object + <span class="string">&quot;℃&quot;</span>);
    &#125;
&#125;</code></pre>

<pre><code class="highlight java"><span class="meta">@Test</span>
<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;
    <span class="type">Weather</span> <span class="variable">weather</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Weather</span>();
    <span class="type">ObserverImpl</span> <span class="variable">observerA</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObserverImpl</span>(<span class="string">&quot;A&quot;</span>);
    <span class="type">ObserverImpl</span> <span class="variable">observerB</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObserverImpl</span>(<span class="string">&quot;B&quot;</span>);
    weather.registerObserver(observerA);
    weather.registerObserver(observerB);
    weather.setTemperature(<span class="number">37</span>);
    weather.setTemperature(<span class="number">39.5</span>);
    weather.removeObserver(observerA);
    weather.setTemperature(<span class="number">23</span>);
&#125;</code></pre>

<h3 id="5-3-2-JDK"><a href="#5-3-2-JDK" class="headerlink" title="5.3.2. JDK"></a>5.3.2. JDK</h3><pre><div class="caption"><span>Weather.java</span></div><code class="highlight java"><span class="comment">// 具体主题</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Weather</span> <span class="keyword">extends</span> <span class="title class_">Observable</span> &#123;
    <span class="keyword">private</span> <span class="type">double</span> temperature;
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setTemperature</span><span class="params">(<span class="type">double</span> temperature)</span> &#123;
        <span class="built_in">this</span>.temperature = temperature;
        setChanged(); <span class="comment">// 必须设置，否则不会通知。</span>
        notifyObservers(<span class="built_in">this</span>.temperature); <span class="comment">// notifyObservers()</span>
    &#125;
&#125;</code></pre>

<pre><div class="caption"><span>ObserverImpl.java</span></div><code class="highlight java"><span class="comment">// 具体观察者</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ObserverImpl</span> <span class="keyword">implements</span> <span class="title class_">Observer</span> &#123;
    <span class="keyword">private</span> String name;
    <span class="keyword">public</span> <span class="title function_">ObserverImpl</span><span class="params">(String name)</span> &#123;
        <span class="built_in">super</span>();
        <span class="built_in">this</span>.name = name;
    &#125;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(Observable o, Object arg)</span> &#123;
        System.out.println(name + <span class="string">&quot;观察到温度[&quot;</span> + o + <span class="string">&quot;]发生变化。参数为&quot;</span> + arg);
    &#125;
&#125;</code></pre>

<h1 id="6-中介者模式"><a href="#6-中介者模式" class="headerlink" title="6. 中介者模式"></a>6. 中介者模式</h1><h2 id="6-1-作用"><a href="#6-1-作用" class="headerlink" title="6.1. 作用"></a>6.1. 作用</h2><p>用一个中介对象来封装一系列的对象交互。中介者使各个对象不需要显式地相互引用，从而使其耦合松散，而且可以独立地改变它们之间的交互。<br><code>MVC模式，C在前后端交互时起到了中间人的作用。</code></p>
<h2 id="6-2-应用场景"><a href="#6-2-应用场景" class="headerlink" title="6.2. 应用场景"></a>6.2. 应用场景</h2><ul>
<li>系统中对象之间存在比较复杂的引用关系，导致它们之间的依赖关系结构混乱而且难以复用该对象。</li>
<li>想通过一个中间类来封装多个类中的行为，而又不想生成太多的子类。</li>
</ul>
<h1 id="7-备忘录模式"><a href="#7-备忘录模式" class="headerlink" title="7. 备忘录模式"></a>7. 备忘录模式</h1><h2 id="7-1-作用"><a href="#7-1-作用" class="headerlink" title="7.1. 作用"></a>7.1. 作用</h2><p><strong>保存某个对象内部状态的拷贝，可以将该对象恢复到原先的状态。</strong></p>
<h2 id="7-2-应用场景"><a href="#7-2-应用场景" class="headerlink" title="7.2. 应用场景"></a>7.2. 应用场景</h2><ul>
<li>棋类游戏悔棋。</li>
<li>软件的撤销功能。</li>
<li>数据库软件的事务回滚。</li>
<li>PS 历史记录。</li>
</ul>
<h2 id="7-3-代码实现"><a href="#7-3-代码实现" class="headerlink" title="7.3. 代码实现"></a>7.3. 代码实现</h2><pre><div class="caption"><span>Txt.java</span></div><code class="highlight java"><span class="comment">// 源发器类</span>
<span class="meta">@Data</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Txt</span> &#123;
    <span class="keyword">private</span> String content;
    <span class="keyword">public</span> TxtMemento <span class="title function_">memento</span><span class="params">()</span> &#123;
        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">TxtMemento</span>(<span class="built_in">this</span>);
    &#125;
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">recovery</span><span class="params">(TxtMemento txtMemento)</span> &#123;
        <span class="built_in">this</span>.content = txtMemento.getContent();
    &#125;
&#125;</code></pre>

<pre><div class="caption"><span>TxtMemento.java</span></div><code class="highlight java"><span class="comment">// 备忘录类</span>
<span class="meta">@Data</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TxtMemento</span> &#123;
    <span class="keyword">private</span> String content;
    <span class="keyword">public</span> <span class="title function_">TxtMemento</span><span class="params">(Txt txt)</span> &#123;
        <span class="built_in">super</span>();
        <span class="built_in">this</span>.content = txt.getContent();
    &#125;
&#125;</code></pre>

<pre><div class="caption"><span>Caretaker.java</span></div><code class="highlight java"><span class="comment">// 负责人类</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Caretaker</span> &#123;
    <span class="keyword">private</span> List&lt;TxtMemento&gt; txtMementos = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;TxtMemento&gt;();
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(TxtMemento txtMemento)</span> &#123;
        txtMementos.add(txtMemento);
    &#125;
    <span class="keyword">public</span> TxtMemento <span class="title function_">get</span><span class="params">(<span class="type">int</span> index)</span> &#123;
        <span class="keyword">return</span> txtMementos.get(index);
    &#125;
&#125;</code></pre>

<pre><code class="highlight java"><span class="meta">@Test</span>
<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;
    <span class="type">Caretaker</span> <span class="variable">caretaker</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Caretaker</span>();
    <span class="type">Txt</span> <span class="variable">txt</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Txt</span>();
    txt.setContent(<span class="string">&quot;第一版&quot;</span>);
    caretaker.add(txt.memento());
    System.out.println(txt);
    txt.setContent(<span class="string">&quot;第二版&quot;</span>);
    caretaker.add(txt.memento());
    System.out.println(txt);
    System.out.println(<span class="string">&quot;还原...&quot;</span>);
    txt.recovery(caretaker.get(<span class="number">0</span>));
    System.out.println(txt);
&#125;</code></pre>

<h1 id="8-解释器模式"><a href="#8-解释器模式" class="headerlink" title="8. 解释器模式"></a>8. 解释器模式</h1><h2 id="8-1-作用"><a href="#8-1-作用" class="headerlink" title="8.1. 作用"></a>8.1. 作用</h2><ul>
<li>当一个语音需要解释执行，可将该语言中的句子表示为一个抽象语法树，就可以考虑解释器模式，让程序具有良好的扩展性。</li>
<li>解释器模式会引起类爆炸，采用递归调用方法，将会导致调试非常复杂、效率可能降低。</li>
</ul>
<h2 id="8-2-应用场景"><a href="#8-2-应用场景" class="headerlink" title="8.2. 应用场景"></a>8.2. 应用场景</h2><ul>
<li>编译器。</li>
<li>运算表达式计算。</li>
<li>正则表达式。</li>
<li>机器人。</li>
</ul>
<h2 id="8-3、代码实现"><a href="#8-3、代码实现" class="headerlink" title="8.3、代码实现"></a>8.3、代码实现</h2><pre><div class="caption"><span>Expression.java</span></div><code class="highlight java"><span class="comment">// 表达式接口</span>
<span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Expression</span> &#123;
    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">interpret</span><span class="params">(String context)</span>;
&#125;</code></pre>

<pre><div class="caption"><span>TerminalExpression.java</span></div><code class="highlight java"><span class="comment">// 表达式接口实现</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TerminalExpression</span> <span class="keyword">implements</span> <span class="title class_">Expression</span> &#123;
    <span class="keyword">private</span> String data;
    <span class="keyword">public</span> <span class="title function_">TerminalExpression</span><span class="params">(String data)</span>&#123;
        <span class="built_in">this</span>.data = data;
    &#125;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">interpret</span><span class="params">(String context)</span> &#123;
        <span class="keyword">if</span>(context.contains(data))&#123;
            <span class="keyword">return</span> <span class="literal">true</span>;
        &#125;
        <span class="keyword">return</span> <span class="literal">false</span>;
    &#125;
&#125;</code></pre>

<pre><div class="caption"><span>OrExpression.java</span></div><code class="highlight java"><span class="comment">// 表达式接口实现</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrExpression</span> <span class="keyword">implements</span> <span class="title class_">Expression</span> &#123;
    <span class="keyword">private</span> <span class="type">Expression</span> <span class="variable">expr1</span> <span class="operator">=</span> <span class="literal">null</span>;
    <span class="keyword">private</span> <span class="type">Expression</span> <span class="variable">expr2</span> <span class="operator">=</span> <span class="literal">null</span>;
    <span class="keyword">public</span> <span class="title function_">OrExpression</span><span class="params">(Expression expr1, Expression expr2)</span> &#123;
        <span class="built_in">this</span>.expr1 = expr1;
        <span class="built_in">this</span>.expr2 = expr2;
    &#125;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">interpret</span><span class="params">(String context)</span> &#123;
        <span class="keyword">return</span> expr1.interpret(context) || expr2.interpret(context);
    &#125;
&#125;</code></pre>

<pre><div class="caption"><span>AndExpression.java</span></div><code class="highlight java"><span class="comment">// 表达式接口实现</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AndExpression</span> <span class="keyword">implements</span> <span class="title class_">Expression</span> &#123;
    <span class="keyword">private</span> <span class="type">Expression</span> <span class="variable">expr1</span> <span class="operator">=</span> <span class="literal">null</span>;
    <span class="keyword">private</span> <span class="type">Expression</span> <span class="variable">expr2</span> <span class="operator">=</span> <span class="literal">null</span>;
    <span class="keyword">public</span> <span class="title function_">AndExpression</span><span class="params">(Expression expr1, Expression expr2)</span> &#123;
        <span class="built_in">this</span>.expr1 = expr1;
        <span class="built_in">this</span>.expr2 = expr2;
    &#125;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">interpret</span><span class="params">(String context)</span> &#123;
        <span class="keyword">return</span> expr1.interpret(context) &amp;&amp; expr2.interpret(context);
    &#125;
&#125;</code></pre>

<pre><code class="highlight java"><span class="comment">//规则：Robert 和 John 是男性</span>
<span class="keyword">public</span> <span class="keyword">static</span> Expression <span class="title function_">getMaleExpression</span><span class="params">()</span>&#123;
    <span class="type">Expression</span> <span class="variable">robert</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TerminalExpression</span>(<span class="string">&quot;Robert&quot;</span>);
    <span class="type">Expression</span> <span class="variable">john</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TerminalExpression</span>(<span class="string">&quot;John&quot;</span>);
    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">OrExpression</span>(robert, john);
&#125;
<span class="comment">//规则：Julie 是一个已婚的女性</span>
<span class="keyword">public</span> <span class="keyword">static</span> Expression <span class="title function_">getMarriedWomanExpression</span><span class="params">()</span>&#123;
    <span class="type">Expression</span> <span class="variable">julie</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TerminalExpression</span>(<span class="string">&quot;Julie&quot;</span>);
    <span class="type">Expression</span> <span class="variable">married</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TerminalExpression</span>(<span class="string">&quot;Married&quot;</span>);
    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">AndExpression</span>(julie, married);
&#125;
<span class="meta">@Test</span>
<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;
    <span class="type">Expression</span> <span class="variable">isMale</span> <span class="operator">=</span> getMaleExpression();
    <span class="type">Expression</span> <span class="variable">isMarriedWoman</span> <span class="operator">=</span> getMarriedWomanExpression();
    System.out.println(<span class="string">&quot;John is male? &quot;</span> + isMale.interpret(<span class="string">&quot;John&quot;</span>));
    System.out.println(<span class="string">&quot;Julie is a married women? &quot;</span> + isMarriedWoman.interpret(<span class="string">&quot;Married Julie&quot;</span>));
&#125;</code></pre>

<h2 id="8-4-源码解析之-SpelExpressionParser（Spring）"><a href="#8-4-源码解析之-SpelExpressionParser（Spring）" class="headerlink" title="8.4. 源码解析之 SpelExpressionParser（Spring）"></a>8.4. 源码解析之 SpelExpressionParser（Spring）</h2><p><code>Expression：表达式接口。</code><br><code>SpelExpression：表达式接口实现。</code></p>
<h1 id="9-状态模式"><a href="#9-状态模式" class="headerlink" title="9. 状态模式"></a>9. 状态模式</h1><h2 id="9-1-作用"><a href="#9-1-作用" class="headerlink" title="9.1. 作用"></a>9.1. 作用</h2><ul>
<li><strong>主要用来解决对象在多种状态转换时，需要对外输出不同的行为的问题。</strong>状态和行为是一一对应的。状态之间可以互相转换。</li>
<li>当一个对象的内在状态改变时，允许改变其行为。</li>
</ul>
<h2 id="9-2-应用场景"><a href="#9-2-应用场景" class="headerlink" title="9.2. 应用场景"></a>9.2. 应用场景</h2><p>当一个事件或者对象有很多种状态，状态之间会互相转换，对不同的状态要求有不同的行为的时候，考虑使用状态模式。</p>
<h2 id="9-3-代码实现"><a href="#9-3-代码实现" class="headerlink" title="9.3. 代码实现"></a>9.3. 代码实现</h2><pre><div class="caption"><span>State.java</span></div><code class="highlight java"><span class="comment">// State接口</span>
<span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">State</span> &#123;
    <span class="keyword">void</span> <span class="title function_">doAction</span><span class="params">(Context context)</span>;
&#125;</code></pre>

<pre><div class="caption"><span>StartState.java</span></div><code class="highlight java"><span class="comment">// State接口实现</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StartState</span> <span class="keyword">implements</span> <span class="title class_">State</span> &#123;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doAction</span><span class="params">(Context context)</span> &#123;
        System.out.println(<span class="string">&quot;context start...&quot;</span>);
        context.setState(<span class="built_in">this</span>);
    &#125;
&#125;</code></pre>

<pre><div class="caption"><span>StopState.java</span></div><code class="highlight java"><span class="comment">// State接口实现</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StopState</span> <span class="keyword">implements</span> <span class="title class_">State</span> &#123;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doAction</span><span class="params">(Context context)</span> &#123;
        System.out.println(<span class="string">&quot;context stop...&quot;</span>);
        context.setState(<span class="built_in">this</span>);
    &#125;
&#125;</code></pre>

<pre><div class="caption"><span>Context.java</span></div><code class="highlight java"><span class="comment">// Context对象</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Context</span> &#123;
    <span class="keyword">private</span> State state;
    <span class="keyword">public</span> State <span class="title function_">getState</span><span class="params">()</span> &#123;
        <span class="keyword">return</span> state;
    &#125;
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setState</span><span class="params">(State state)</span> &#123;
        <span class="built_in">this</span>.state = state;
    &#125;
&#125;</code></pre>

<pre><code class="highlight java"><span class="meta">@Test</span>
<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;
    <span class="type">Context</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Context</span>();
    <span class="keyword">new</span> <span class="title class_">StartState</span>().doAction(context);
    <span class="keyword">new</span> <span class="title class_">StopState</span>().doAction(context);
&#125;</code></pre>

<h1 id="10-策略模式"><a href="#10-策略模式" class="headerlink" title="10. 策略模式"></a>10. 策略模式</h1><h2 id="10-1-作用"><a href="#10-1-作用" class="headerlink" title="10.1. 作用"></a>10.1. 作用</h2><ul>
<li><font>分离算法，选择实现。</font>定义算法族（组），分别封装起来，可以互相替换，让算法的变化独立于使用算法的客户。</li>
<li>关键为分离变化和不变的部分。</li>
</ul>
<h2 id="10-2-应用场景"><a href="#10-2-应用场景" class="headerlink" title="10.2. 应用场景"></a>10.2. 应用场景</h2><ul>
<li>Java 中 Arrays.sort()。</li>
<li>GUI 编程中，布局管理。</li>
<li>Spring 框架中，Resource 接口，资源访问策略。</li>
<li>HttpServlet.service()。</li>
</ul>
<h2 id="10-3-代码实现"><a href="#10-3-代码实现" class="headerlink" title="10.3. 代码实现"></a>10.3. 代码实现</h2><pre><div class="caption"><span>ActivityStrategy.java</span></div><code class="highlight java"><span class="comment">// 策略抽象接口</span>
<span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ActivityStrategy</span> &#123;
    <span class="type">double</span> <span class="title function_">calc</span><span class="params">(<span class="type">double</span> originalPrice)</span>;
&#125;</code></pre>

<pre><div class="caption"><span>VipActivityStrategy.java</span></div><code class="highlight java"><span class="comment">// 策略实现类</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VipActivityStrategy</span> <span class="keyword">implements</span> <span class="title class_">ActivityStrategy</span> &#123;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">calc</span><span class="params">(<span class="type">double</span> originalPrice)</span> &#123;
        <span class="keyword">return</span> <span class="number">0.9</span> * originalPrice;
    &#125;
&#125;</code></pre>

<pre><div class="caption"><span>Goods.java</span></div><code class="highlight java"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Goods</span> &#123;
    <span class="keyword">private</span> <span class="type">double</span> originalPrice;
    <span class="keyword">public</span> <span class="title function_">Goods</span><span class="params">(<span class="type">double</span> originalPrice)</span> &#123;
        <span class="built_in">super</span>();
        <span class="built_in">this</span>.originalPrice = originalPrice;
    &#125;
    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">calc</span><span class="params">(ActivityStrategy activityStrategy)</span> &#123;
        <span class="keyword">if</span> (activityStrategy == <span class="literal">null</span>) &#123;
            <span class="keyword">return</span> originalPrice;
        &#125; <span class="keyword">else</span> &#123;
            <span class="keyword">return</span> activityStrategy.calc(originalPrice);
        &#125;
    &#125;
&#125;</code></pre>

<pre><code class="highlight java"><span class="meta">@Test</span>
<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;
    <span class="type">Goods</span> <span class="variable">goods1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Goods</span>(<span class="number">100</span>);
    System.out.println(goods1.calc(<span class="literal">null</span>));
    <span class="type">ActivityStrategy</span> <span class="variable">vipActivityStrategy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VipActivityStrategy</span>();
    System.out.println(goods1.calc(vipActivityStrategy));
    <span class="type">ActivityStrategy</span> <span class="variable">doubleElevenActivityStrategy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DoubleElevenActivityStrategy</span>();
    System.out.println(goods1.calc(doubleElevenActivityStrategy));
&#125;</code></pre>

<h2 id="10-4-源码解析之-Arrays-sort"><a href="#10-4-源码解析之-Arrays-sort" class="headerlink" title="10.4. 源码解析之 Arrays.sort()"></a>10.4. 源码解析之 Arrays.sort()</h2><pre><div class="caption"><span>Arrays.java</span></div><code class="highlight java"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Arrays</span> &#123;
    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(T[] a, Comparator&lt;? <span class="built_in">super</span> T&gt; c)</span> &#123;
        <span class="keyword">if</span> (c == <span class="literal">null</span>) &#123;
            sort(a);
        &#125; <span class="keyword">else</span> &#123;
            <span class="keyword">if</span> (LegacyMergeSort.userRequested)
                legacyMergeSort(a, c);
            <span class="keyword">else</span>
                TimSort.sort(a, <span class="number">0</span>, a.length, c, <span class="literal">null</span>, <span class="number">0</span>, <span class="number">0</span>);
        &#125;
    &#125;
&#125;</code></pre>

<h1 id="11-责任链模式"><a href="#11-责任链模式" class="headerlink" title="11. 责任链模式"></a>11. 责任链模式</h1><h2 id="11-1-作用"><a href="#11-1-作用" class="headerlink" title="11.1. 作用"></a>11.1. 作用</h2><ul>
<li><strong>为请求创建一个接收者对象的链，对请求的接收者和发送者进行解耦。</strong></li>
<li>每一个接收者都含有另一个接收者的引用，如果不能处理请求会将相同的请求传给下一个接收者。<br><code>当链比较长时，性能会受影响，需要控制链最大节点数量。</code></li>
</ul>
<h2 id="11-2-应用场景"><a href="#11-2-应用场景" class="headerlink" title="11.2. 应用场景"></a>11.2. 应用场景</h2><ul>
<li>OA 系统。</li>
<li>SpringMVC。</li>
<li>Tomcat。</li>
</ul>
<h2 id="11-3-代码实现"><a href="#11-3-代码实现" class="headerlink" title="11.3. 代码实现"></a>11.3. 代码实现</h2><pre><div class="caption"><span>LeaveRequest.java</span></div><code class="highlight java"><span class="comment">// 请求类</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LeaveRequest</span> &#123;
    <span class="keyword">private</span> String launcher;
    <span class="keyword">private</span> String approver;
    <span class="keyword">private</span> <span class="type">int</span> days;
&#125;</code></pre>

<pre><div class="caption"><span>ILeader.java</span></div><code class="highlight java"><span class="comment">// 接收者抽象类</span>
<span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">ILeader</span> &#123;
    <span class="keyword">protected</span> String name;
    <span class="keyword">protected</span> ILeader superLeader;
    <span class="keyword">public</span> <span class="title function_">ILeader</span><span class="params">(String name, ILeader superLeader)</span> &#123;
        <span class="built_in">super</span>();
        <span class="built_in">this</span>.name = name;
        <span class="built_in">this</span>.superLeader = superLeader;
    &#125;
    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="type">boolean</span> <span class="title function_">approve</span><span class="params">(LeaveRequest leaveRequest)</span>;
&#125;</code></pre>

<pre><div class="caption"><span>Monitor.java</span></div><code class="highlight java"><span class="comment">// 接收者</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Monitor</span> <span class="keyword">extends</span> <span class="title class_">ILeader</span> &#123;
    <span class="keyword">public</span> <span class="title function_">Monitor</span><span class="params">(String name, ILeader superLeader)</span> &#123;
        <span class="built_in">super</span>(name, superLeader);
    &#125;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">approve</span><span class="params">(LeaveRequest leaveRequest)</span> &#123;
        <span class="keyword">if</span> (leaveRequest.getDays() &lt;= <span class="number">1</span>) &#123;
            System.out.println(name + <span class="string">&quot;通过了&quot;</span> + leaveRequest.getLauncher() + <span class="string">&quot;的请假【&quot;</span> + leaveRequest.getDays() + <span class="string">&quot;天】&quot;</span>);
            leaveRequest.setApprover(name);
            <span class="keyword">return</span> <span class="literal">true</span>;
        &#125; <span class="keyword">else</span> &#123;
            <span class="keyword">if</span> (superLeader != <span class="literal">null</span>) &#123;
                System.out.println(name + <span class="string">&quot;无法处理&quot;</span> + leaveRequest.getLauncher() + <span class="string">&quot;的请假【&quot;</span> + leaveRequest.getDays() + <span class="string">&quot;天】，并将其转给&quot;</span> + superLeader.name);
                <span class="keyword">return</span> superLeader.approve(leaveRequest);
            &#125; <span class="keyword">else</span> &#123;
                System.out.println(name + <span class="string">&quot;拒绝了&quot;</span> + leaveRequest.getLauncher() + <span class="string">&quot;的请假【&quot;</span> + leaveRequest.getDays() + <span class="string">&quot;天】&quot;</span>);
                <span class="keyword">return</span> <span class="literal">false</span>;
            &#125;
        &#125;
    &#125;
&#125;</code></pre>

<pre><code class="highlight java"><span class="meta">@Test</span>
<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;
    <span class="type">LeaveRequest</span> <span class="variable">leaveRequest</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LeaveRequest</span>(<span class="string">&quot;胖哥&quot;</span>, <span class="literal">null</span>, <span class="number">10</span>);
    <span class="type">HeadMaster</span> <span class="variable">headMaster</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HeadMaster</span>(<span class="string">&quot;王校长&quot;</span>, <span class="literal">null</span>);
    <span class="type">Teacher</span> <span class="variable">teacher</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>(<span class="string">&quot;东方老师&quot;</span>, headMaster);
    <span class="type">Monitor</span> <span class="variable">monitor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Monitor</span>(<span class="string">&quot;丁凯乐&quot;</span>, teacher);
    monitor.approve(leaveRequest);
&#125;</code></pre>

<h2 id="11-4-源码解析之-SpringMVC"><a href="#11-4-源码解析之-SpringMVC" class="headerlink" title="11.4. 源码解析之 SpringMVC"></a>11.4. 源码解析之 SpringMVC</h2><pre><div class="caption"><span>DispatcherServlet.java</span></div><code class="highlight java"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DispatcherServlet</span> <span class="keyword">extends</span> <span class="title class_">FrameworkServlet</span> &#123;
    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doDispatch</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> Exception &#123;
        <span class="type">HandlerExecutionChain</span> <span class="variable">mappedHandler</span> <span class="operator">=</span> <span class="literal">null</span>;
        <span class="keyword">try</span>&#123;
            mappedHandler = getHandler(processedRequest);
            <span class="keyword">if</span> (!mappedHandler.applyPreHandle(processedRequest, response)) &#123;
                <span class="keyword">return</span>;
            &#125;
            mv = ha.handle(processedRequest, response, mappedHandler.getHandler());
            mappedHandler.applyPostHandle(processedRequest, response, mv);
        &#125;<span class="keyword">catch</span> (Exception ex) &#123;
            triggerAfterCompletion(processedRequest, response, mappedHandler, ex);
        &#125;
    &#125;
&#125;</code></pre>

<pre><div class="caption"><span>HandlerExecutionChain.java</span></div><code class="highlight java"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HandlerExecutionChain</span> &#123;
    <span class="type">boolean</span> <span class="title function_">applyPreHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> Exception &#123;
        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="built_in">this</span>.interceptorList.size(); i++) &#123;
            <span class="type">HandlerInterceptor</span> <span class="variable">interceptor</span> <span class="operator">=</span> <span class="built_in">this</span>.interceptorList.get(i);
            <span class="keyword">if</span> (!interceptor.preHandle(request, response, <span class="built_in">this</span>.handler)) &#123;
                triggerAfterCompletion(request, response, <span class="literal">null</span>);
                <span class="keyword">return</span> <span class="literal">false</span>;
            &#125;
            <span class="built_in">this</span>.interceptorIndex = i;
        &#125;
        <span class="keyword">return</span> <span class="literal">true</span>;
    &#125;
    <span class="keyword">void</span> <span class="title function_">applyPostHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, <span class="meta">@Nullable</span> ModelAndView mv)</span>
                <span class="keyword">throws</span> Exception &#123;
        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="built_in">this</span>.interceptorList.size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;
            <span class="type">HandlerInterceptor</span> <span class="variable">interceptor</span> <span class="operator">=</span> <span class="built_in">this</span>.interceptorList.get(i);
            interceptor.postHandle(request, response, <span class="built_in">this</span>.handler, mv);
        &#125;
    &#125;
    <span class="keyword">void</span> <span class="title function_">triggerAfterCompletion</span><span class="params">(HttpServletRequest request, HttpServletResponse response, <span class="meta">@Nullable</span> Exception ex)</span> &#123;
        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="built_in">this</span>.interceptorIndex; i &gt;= <span class="number">0</span>; i--) &#123;
            <span class="type">HandlerInterceptor</span> <span class="variable">interceptor</span> <span class="operator">=</span> <span class="built_in">this</span>.interceptorList.get(i);
            <span class="keyword">try</span> &#123;
                interceptor.afterCompletion(request, response, <span class="built_in">this</span>.handler, ex);
            &#125;
            <span class="keyword">catch</span> (Throwable ex2) &#123;
                logger.error(<span class="string">&quot;HandlerInterceptor.afterCompletion threw exception&quot;</span>, ex2);
            &#125;
        &#125;
    &#125;
&#125;</code></pre>

<h1 id="12-总结"><a href="#12-总结" class="headerlink" title="12. 总结"></a>12. 总结</h1><p>行为型设计模式：<font>关注系统中对象之间的相互交互，研究系统在运行时对象之间的相互通信和协作，进一步明确对象的职责</font>。</p>

      
       <hr><span style="font-style: italic;color: gray;"> 不积跬步无以至千里，不积小流无以成江海！ </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">赏</a>
</p>






    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©2015-2024 蜡笔没了小新
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>喜欢就点赞,疼爱就打赏</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.png" class="alipay" title="扫码支持">
            <img src="/img/wechat.png" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">支付宝</label></span><span><label><input type="radio" name="pay" value="weixin">微信</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*高亮代码块行号*/
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 582px;
    }
    .nav.fullscreen {
        margin-left: -582px;
    }
    .nav-left {
        width: 160px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 532px;
        }
        .nav.fullscreen {
            margin-left: -532px;
        }
        .nav-left {
            width: 140px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 532px;
            margin-left: -532px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    
    .nav-right:before {
        content: ' ';
        display: block;
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        opacity: 0.3;
        background: url("/images/20230809225525.png");
        background-repeat: no-repeat;
        background-position: 50% 0;
        -ms-background-size: cover;
        -o-background-size: cover;
        -moz-background-size: cover;
        -webkit-background-size: cover;
        background-size: cover;
    }
    

    
    #post .pjax article :not(pre) > code {
        color: #24292e;
        font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
        background-color: rgba(27,31,35,.05);
        border-radius: 3px;
        font-size: 85%;
        margin: 0;
        padding: .2em .4em;
    }
    
</style>







</html>
