<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>【Activiti】基础篇 | 蜡笔没了小新の笔记</title>
  <meta name="keywords" content=" Activiti ">
  <meta name="description" content="【Activiti】基础篇 | 蜡笔没了小新の笔记">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="1. XMLHttpRequest&#x2F;&#x2F; 实例化xhr对象 var xhr &#x3D; new XMLHttpRequest() &#x2F;&#x2F; 建立连接 xhr.open(&#x27;GET&#x27;, &#x27;xxx&#x27;, false) &#x2F;&#x2F; 发送请求 xhr.send()  2. jQueryTODO 待补充 3. vue-resource 安装vue-resource。 npm install">
<meta property="og:type" content="article">
<meta property="og:title" content="【Vue】HTTP插件">
<meta property="og:url" content="http://example.com/vue/http/index.html">
<meta property="og:site_name" content="蜡笔没了小新の笔记">
<meta property="og:description" content="1. XMLHttpRequest&#x2F;&#x2F; 实例化xhr对象 var xhr &#x3D; new XMLHttpRequest() &#x2F;&#x2F; 建立连接 xhr.open(&#x27;GET&#x27;, &#x27;xxx&#x27;, false) &#x2F;&#x2F; 发送请求 xhr.send()  2. jQueryTODO 待补充 3. vue-resource 安装vue-resource。 npm install">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2024-08-15T15:21:00.000Z">
<meta property="article:modified_time" content="2024-08-16T02:06:56.909Z">
<meta property="article:author" content="蜡笔没了小新">
<meta property="article:tag" content="Vue">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/darcula.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 7.2.0"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="/img/avatar.jpg"/>
</a>
<div class="author">
    <span>蜡笔没了小新</span>
</div>

<div class="icon">
    
        
            <a title="github"
               href="https://github.com/fengbiao-github"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-github"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="email"
               href="mailto:2014695858@qq.com"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-email"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="qq"
               href="http://wpa.qq.com/msgrd?v=3&uin=2014695858&site=qq&menu=yes"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-qq"></use>
                    </svg>
                
            </a>
        
    
</div>





<ul>
    <li>
        <div class="all active" data-rel="全部文章">全部文章
            
        </div>
    </li>
    
        
            
                
    <li>
        <div data-rel="理论">
            <i class="fold iconfont icon-right"></i>
            理论
            
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="理论&lt;---&gt;数据结构与算法">
            
            数据结构与算法
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="理论&lt;---&gt;设计模式">
            
            设计模式
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="理论&lt;---&gt;计算机网络">
            
            计算机网络
            
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="Java">
            <i class="fold iconfont icon-right"></i>
            Java
            
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="Java&lt;---&gt;JVM">
            
            JVM
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="Java&lt;---&gt;JUC">
            
            JUC
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="Java&lt;---&gt;新特性">
            
            新特性
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="Java&lt;---&gt;NIO">
            
            NIO
            
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="数据库">
            <i class="fold iconfont icon-right"></i>
            数据库
            
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="数据库&lt;---&gt;关系型数据库">
            
            关系型数据库
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="数据库&lt;---&gt;非关系型数据库">
            
            非关系型数据库
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="数据库&lt;---&gt;分库分表">
            
            分库分表
            
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="框架">
            <i class="fold iconfont icon-right"></i>
            框架
            
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="框架&lt;---&gt;Spring">
            
            Spring
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="框架&lt;---&gt;视图层">
            
            视图层
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="框架&lt;---&gt;ORM">
            
            ORM
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="框架&lt;---&gt;认证授权">
            
            认证授权
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="框架&lt;---&gt;任务调度">
            
            任务调度
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="框架&lt;---&gt;工作流引擎">
            
            工作流引擎
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="框架&lt;---&gt;网络编程">
            
            网络编程
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="框架&lt;---&gt;文件处理">
            
            文件处理
            
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="微服务">
            
            微服务
            
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="中间件">
            <i class="fold iconfont icon-right"></i>
            中间件
            
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="中间件&lt;---&gt;WEB">
            
            WEB
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="中间件&lt;---&gt;缓存">
            
            缓存
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="中间件&lt;---&gt;消息队列">
            
            消息队列
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="中间件&lt;---&gt;搜索引擎">
            
            搜索引擎
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="中间件&lt;---&gt;日志">
            
            日志
            
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="大数据">
            
            大数据
            
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="工具">
            <i class="fold iconfont icon-right"></i>
            工具
            
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="工具&lt;---&gt;IDE">
            
            IDE
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="工具&lt;---&gt;版本控制">
            
            版本控制
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="工具&lt;---&gt;项目构建">
            
            项目构建
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="工具&lt;---&gt;持续集成">
            
            持续集成
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="工具&lt;---&gt;测试">
            
            测试
            
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="运维">
            <i class="fold iconfont icon-right"></i>
            运维
            
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="运维&lt;---&gt;Linux">
            
            Linux
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="运维&lt;---&gt;高可用">
            
            高可用
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="运维&lt;---&gt;云原生">
            
            云原生
            
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="运维&lt;---&gt;脚本">
            
            脚本
            
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="前端">
            <i class="fold iconfont icon-right"></i>
            前端
            
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="前端&lt;---&gt;框架">
            
            框架
            
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="面试">
            
            面试
            
        </div>
        
    </li>

            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
            
            
    </div>
    <div>
        
            <a class="about  site_url"
               
               href="/about">关于</a>
        
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="32">
<input type="hidden" id="yelog_site_word_count" value="67k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">叶落阁</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">全部文章</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>待完善</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>分布式事务</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>服务调度</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>负载均衡</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>设计模式</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>数据结构与算法</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>数据库</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Activiti</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Docker</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>IDEA</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Java</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Maven</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>MybatisPlus</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Nginx</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>NodeJS</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>RabbitMQ</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>SpringBoot</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>SpringCloudAlibaba</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>SpringCloudNetflix</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Vue</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>websocket</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>xxl-job</a>
            </li>
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        
        <a  class="全部文章 前端 框架 "
           href="/vue/http/"
           data-tag="Vue"
           data-author="" >
            <span class="post-title" title="【Vue】HTTP插件">【Vue】HTTP插件</span>
            <span class="post-date" title="2024-08-15 23:21:00">2024/08/15</span>
        </a>
        
        
        <a  class="全部文章 前端 "
           href="/html/storage/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="【H5】webStorage">【H5】webStorage</span>
            <span class="post-date" title="2024-08-13 22:55:00">2024/08/13</span>
        </a>
        
        
        <a  class="全部文章 前端 框架 "
           href="/vue/component/"
           data-tag="Vue"
           data-author="" >
            <span class="post-title" title="【Vue】组件化编程">【Vue】组件化编程</span>
            <span class="post-date" title="2024-08-08 23:21:00">2024/08/08</span>
        </a>
        
        
        <a  class="全部文章 运维 高可用 "
           href="/nginx/"
           data-tag="负载均衡,Nginx"
           data-author="" >
            <span class="post-title" title="Nginx负载均衡器">Nginx负载均衡器</span>
            <span class="post-date" title="2024-07-29 23:08:00">2024/07/29</span>
        </a>
        
        
        <a  class="全部文章 微服务 大数据 "
           href="/zookeeper/"
           data-tag="服务调度"
           data-author="" >
            <span class="post-title" title="Zookeeper笔记">Zookeeper笔记</span>
            <span class="post-date" title="2024-07-29 23:04:00">2024/07/29</span>
        </a>
        
        
        <a  class="全部文章 微服务 "
           href="/springcloud/springcloud-alibaba/"
           data-tag="SpringCloudAlibaba,分布式事务"
           data-author="" >
            <span class="post-title" title="SpringCloudAlibaba框架">SpringCloudAlibaba框架</span>
            <span class="post-date" title="2024-07-29 23:01:00">2024/07/29</span>
        </a>
        
        
        <a  class="全部文章 微服务 "
           href="/springcloud/springcloud-netflix/"
           data-tag="SpringCloudNetflix"
           data-author="" >
            <span class="post-title" title="SpringCloudNetflix框架">SpringCloudNetflix框架</span>
            <span class="post-date" title="2024-07-29 22:58:00">2024/07/29</span>
        </a>
        
        
        <a  class="全部文章 前端 "
           href="/nodejs/npm/"
           data-tag="NodeJS"
           data-author="" >
            <span class="post-title" title="【Node.js】NPM设置淘宝镜像">【Node.js】NPM设置淘宝镜像</span>
            <span class="post-date" title="2024-07-17 00:56:00">2024/07/17</span>
        </a>
        
        
        <a  class="全部文章 前端 框架 "
           href="/vue/Vuex/"
           data-tag="Vue"
           data-author="" >
            <span class="post-title" title="【Vue】vuex状态管理插件">【Vue】vuex状态管理插件</span>
            <span class="post-date" title="2024-07-15 23:40:00">2024/07/15</span>
        </a>
        
        
        <a  class="全部文章 框架 ORM "
           href="/mybatis/encry/"
           data-tag="MybatisPlus"
           data-author="" >
            <span class="post-title" title="数据库信息加解密">数据库信息加解密</span>
            <span class="post-date" title="2024-07-12 10:47:00">2024/07/12</span>
        </a>
        
        
        <a  class="全部文章 前端 框架 "
           href="/vue/vue-router/"
           data-tag="Vue"
           data-author="" >
            <span class="post-title" title="【Vue】vue-router路由插件">【Vue】vue-router路由插件</span>
            <span class="post-date" title="2024-07-09 22:21:00">2024/07/09</span>
        </a>
        
        
        <a  class="全部文章 前端 框架 "
           href="/vue/vue-ui/"
           data-tag="Vue"
           data-author="" >
            <span class="post-title" title="【Vue】UI组件库">【Vue】UI组件库</span>
            <span class="post-date" title="2024-07-09 21:31:00">2024/07/09</span>
        </a>
        
        
        <a  class="全部文章 理论 运维 工具 框架 计算机网络 高可用 版本控制 大数据 Java 中间件 ORM 持续集成 数据库 IDE 测试 JUC JVM NIO 关系型数据库 非关系型数据库 分库分表 缓存 搜索引擎 日志 WEB Linux 脚本 Spring 视图层 认证授权 文件处理 网络编程 "
           href="/demo/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="示例文档">示例文档</span>
            <span class="post-date" title="2024-06-06 23:51:00">2024/06/06</span>
        </a>
        
        
        <a  class="全部文章 框架 任务调度 "
           href="/xxl-job/"
           data-tag="xxl-job"
           data-author="" >
            <span class="post-title" title="xxl-job分布式任务调度框架">xxl-job分布式任务调度框架</span>
            <span class="post-date" title="2024-06-06 23:51:00">2024/06/06</span>
        </a>
        
        
        <a  class="全部文章 理论 数据结构与算法 "
           href="/data-structure-and-algorithm/algorithm/"
           data-tag="数据结构与算法"
           data-author="" >
            <span class="post-title" title="【数据结构与算法】算法篇">【数据结构与算法】算法篇</span>
            <span class="post-date" title="2024-06-05 23:04:00">2024/06/05</span>
        </a>
        
        
        <a  class="全部文章 中间件 消息队列 "
           href="/mq/mq/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="消息队列">消息队列</span>
            <span class="post-date" title="2024-06-05 22:58:00">2024/06/05</span>
        </a>
        
        
        <a  class="全部文章 中间件 消息队列 面试 "
           href="/interview/rabbitmq/"
           data-tag="RabbitMQ"
           data-author="" >
            <span class="post-title" title="RabbitMQ面试题">RabbitMQ面试题</span>
            <span class="post-date" title="2024-06-05 22:27:00">2024/06/05</span>
        </a>
        
        
        <a  class="全部文章 运维 云原生 "
           href="/docker/2/"
           data-tag="Docker,待完善"
           data-author="" >
            <span class="post-title" title="【Docker】进阶篇">【Docker】进阶篇</span>
            <span class="post-date" title="2024-06-05 21:20:00">2024/06/05</span>
        </a>
        
        
        <a  class="全部文章 中间件 消息队列 "
           href="/mq/rabbitmq/"
           data-tag="RabbitMQ"
           data-author="" >
            <span class="post-title" title="RabbitMQ消息队列">RabbitMQ消息队列</span>
            <span class="post-date" title="2024-06-05 09:59:00">2024/06/05</span>
        </a>
        
        
        <a  class="全部文章 前端 框架 "
           href="/vue/vue2/"
           data-tag="Vue"
           data-author="" >
            <span class="post-title" title="【Vue】Vue2语法">【Vue】Vue2语法</span>
            <span class="post-date" title="2024-06-04 21:30:00">2024/06/04</span>
        </a>
        
        
        <a  class="全部文章 工具 项目构建 "
           href="/maven/"
           data-tag="Maven"
           data-author="" >
            <span class="post-title" title="Maven构建工具">Maven构建工具</span>
            <span class="post-date" title="2024-05-29 22:47:00">2024/05/29</span>
        </a>
        
        
        <a  class="全部文章 Java 新特性 "
           href="/java/java8/"
           data-tag="Java"
           data-author="" >
            <span class="post-title" title="【Java】Java8新特性">【Java】Java8新特性</span>
            <span class="post-date" title="2024-05-29 21:52:00">2024/05/29</span>
        </a>
        
        
        <a  class="全部文章 运维 云原生 "
           href="/docker/1/"
           data-tag="Docker"
           data-author="" >
            <span class="post-title" title="【Docker】基础篇">【Docker】基础篇</span>
            <span class="post-date" title="2024-05-29 12:37:00">2024/05/29</span>
        </a>
        
        
        <a  class="全部文章 理论 设计模式 "
           href="/design-pattern/4/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="【设计模式】行为型设计模式">【设计模式】行为型设计模式</span>
            <span class="post-date" title="2024-05-28 22:27:00">2024/05/28</span>
        </a>
        
        
        <a  class="全部文章 理论 设计模式 "
           href="/design-pattern/3/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="【设计模式】结构型设计模式">【设计模式】结构型设计模式</span>
            <span class="post-date" title="2024-05-28 22:01:00">2024/05/28</span>
        </a>
        
        
        <a  class="全部文章 框架 工作流引擎 "
           href="/activiti/3/"
           data-tag="Activiti,SpringBoot,IDEA"
           data-author="" >
            <span class="post-title" title="【Activiti】整合篇">【Activiti】整合篇</span>
            <span class="post-date" title="2024-05-28 21:49:00">2024/05/28</span>
        </a>
        
        
        <a  class="全部文章 框架 工作流引擎 "
           href="/activiti/2/"
           data-tag="Activiti"
           data-author="" >
            <span class="post-title" title="【Activiti】进阶篇">【Activiti】进阶篇</span>
            <span class="post-date" title="2024-05-28 21:35:00">2024/05/28</span>
        </a>
        
        
        <a  class="全部文章 框架 工作流引擎 "
           href="/activiti/1/"
           data-tag="Activiti"
           data-author="" >
            <span class="post-title" title="【Activiti】基础篇">【Activiti】基础篇</span>
            <span class="post-date" title="2024-05-28 21:23:00">2024/05/28</span>
        </a>
        
        
        <a  class="全部文章 前端 "
           href="/html/websocket/"
           data-tag="websocket"
           data-author="" >
            <span class="post-title" title="【H5】websocket协议">【H5】websocket协议</span>
            <span class="post-date" title="2024-05-28 16:40:00">2024/05/28</span>
        </a>
        
        
        <a  class="全部文章 理论 设计模式 "
           href="/design-pattern/2/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="【设计模式】创建型设计模式">【设计模式】创建型设计模式</span>
            <span class="post-date" title="2024-05-28 15:53:00">2024/05/28</span>
        </a>
        
        
        <a  class="全部文章 理论 设计模式 "
           href="/design-pattern/1/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="【设计模式】七大设计原则">【设计模式】七大设计原则</span>
            <span class="post-date" title="2024-05-27 14:51:00">2024/05/27</span>
        </a>
        
        
        <a  class="全部文章 Java 数据库 "
           href="/java/jdbc/"
           data-tag="Java,数据库"
           data-author="" >
            <span class="post-title" title="【Java】JDBC数据库连接">【Java】JDBC数据库连接</span>
            <span class="post-date" title="2024-05-25 22:24:00">2024/05/25</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-activiti/1" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">【Activiti】基础篇</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="框架">框架</a> > 
            
            <a  data-rel="框架&lt;---&gt;工作流引擎">工作流引擎</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color4">Activiti</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            发布时间 : <time class="date" title='最后更新: 2024-08-16 10:06:56'>2024-05-28 21:23</time>
        
    </div>
    <div class="article-meta">
        
        <span>字数:2.3k</span>
        
        
        <span id="busuanzi_container_page_pv">
            阅读 :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-%E5%B7%A5%E4%BD%9C%E6%B5%81"><span class="toc-text">1. 工作流</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-%E7%AE%80%E4%BB%8B"><span class="toc-text">1.1. 简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">1.2. 应用场景</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-Activiti"><span class="toc-text">2. Activiti</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-%E7%AE%80%E4%BB%8B"><span class="toc-text">2.1. 简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-BPMN2-0-%E8%A7%84%E8%8C%83"><span class="toc-text">2.2. BPMN2.0 规范</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-1-%E7%AE%80%E4%BB%8B"><span class="toc-text">2.2.1. 简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-2-%E5%9F%BA%E6%9C%AC%E6%B5%81%E7%A8%8B%E7%AC%A6%E5%8F%B7"><span class="toc-text">2.2.2. 基本流程符号</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B"><span class="toc-text">2.3. 开发流程</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-Activiti-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="toc-text">3. Activiti 环境搭建</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-Activiti-%E6%9E%B6%E6%9E%84"><span class="toc-text">4. Activiti 架构</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-%E6%95%B0%E6%8D%AE%E8%A1%A8"><span class="toc-text">4.1. 数据表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-Service-%E6%8E%A5%E5%8F%A3"><span class="toc-text">4.2. Service 接口</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-Activiti-%E5%AE%9E%E6%93%8D"><span class="toc-text">5. Activiti 实操</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1-%E9%83%A8%E7%BD%B2%E6%B5%81%E7%A8%8B%E5%AE%9A%E4%B9%89"><span class="toc-text">5.1. 部署流程定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-2-%E6%9F%A5%E8%AF%A2%E6%B5%81%E7%A8%8B%E5%AE%9A%E4%B9%89"><span class="toc-text">5.2. 查询流程定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-3-%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B"><span class="toc-text">5.3. 启动流程实例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-4-%E6%9F%A5%E8%AF%A2%E4%BB%A3%E5%8A%9E%E4%BB%BB%E5%8A%A1"><span class="toc-text">5.4. 查询代办任务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-5-%E5%AE%8C%E6%88%90%E4%BB%A3%E5%8A%9E%E4%BB%BB%E5%8A%A1"><span class="toc-text">5.5. 完成代办任务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-6-%E6%9F%A5%E8%AF%A2%E5%8E%86%E5%8F%B2%E4%BF%A1%E6%81%AF"><span class="toc-text">5.6. 查询历史信息</span></a></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-4 i,
    .toc-level-4 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-工作流"><a href="#1-工作流" class="headerlink" title="1. 工作流"></a>1. 工作流</h1><h2 id="1-1-简介"><a href="#1-1-简介" class="headerlink" title="1.1. 简介"></a>1.1. 简介</h2><ul>
<li>工作流就是<strong>业务过程的部分或整体在计算机应用环境下的自动化</strong>，主要解决的是使在多个参与者之间按照某种预定义的规则传递文档、信息或任务的过程自动进行，从而实现某个预期的业务目标，或者促使此目标的实现。<br><code>工作流的简单概念就是用于流程审批的。如：请假审批流程、报销审批流程、出差审批流程、合同审批流程等。</code></li>
<li>工作流引擎，主要是为了帮忙我们实现<strong>流程自动化控制</strong>，例如 Activiti 引擎就可以实现自动化控制。</li>
<li>工作流管理系统是一个软件系统，它完成工作流的定义和管理，并按照在系统中预先定义好的工作流规则进行工作流实例的执行。例如 OA 系统，ERP 系统。</li>
</ul>
<h2 id="1-2-应用场景"><a href="#1-2-应用场景" class="headerlink" title="1.2. 应用场景"></a>1.2. 应用场景</h2><ul>
<li>业务类：合同审批流程、订单处理流程、出入库审批流程等。</li>
<li>行政类：请假流程、出差流程、用车流程、办公用品申请流程等。</li>
<li>财务类：报销流程、支付流程等。</li>
<li>客户服务类：售后跟踪、客户投诉等。</li>
</ul>
<h1 id="2-Activiti"><a href="#2-Activiti" class="headerlink" title="2. Activiti"></a>2. Activiti</h1><h2 id="2-1-简介"><a href="#2-1-简介" class="headerlink" title="2.1. 简介"></a>2.1. 简介</h2><p>Activiti 是一个开源的<strong>工作流引擎</strong>，它实现了<strong>BPMN2.0 规范</strong>，可以发布设计好的流程定义，并通过 api 进行流程调度。<br><code>官网：https://www.activiti.org/</code></p>
<h2 id="2-2-BPMN2-0-规范"><a href="#2-2-BPMN2-0-规范" class="headerlink" title="2.2. BPMN2.0 规范"></a>2.2. BPMN2.0 规范</h2><h3 id="2-2-1-简介"><a href="#2-2-1-简介" class="headerlink" title="2.2.1. 简介"></a>2.2.1. 简介</h3><p>业务流程模型注解（Business Process Modeling Notation）是业务流程模型的一种标准图形注解。这个标准是由对象管理组维护。</p>
<h3 id="2-2-2-基本流程符号"><a href="#2-2-2-基本流程符号" class="headerlink" title="2.2.2. 基本流程符号"></a>2.2.2. 基本流程符号</h3><ul>
<li>事件：<strong>开始事件</strong>，<strong>结束事件</strong>，中间事件。</li>
<li>活动：</li>
<li>网关：<strong>排他网关</strong>，<strong>并行网关</strong>，<strong>包含网关</strong>，事件网关。</li>
<li>定时器事件：</li>
</ul>
<h2 id="2-3-开发流程"><a href="#2-3-开发流程" class="headerlink" title="2.3. 开发流程"></a>2.3. 开发流程</h2><ol>
<li><strong>画流程定义模型</strong>：遵守 BPMN 的流程规范，使用 BPMN 的流程定义工具，通过<strong>流程符号</strong>把整个业务流程定义出来，可以将流程定义文件字节流保存到<strong>Model</strong>模型数据表中。</li>
<li><strong>部署流程定义</strong>：加载画好的流程定义文件，将它转换成<strong>ProcessDefinition</strong>流程定义数据，保存到流程定义数据表中。</li>
<li><strong>启动流程</strong>：生成<strong>ProcessInstance</strong>流程实例数据，生成第 1 节点<strong>Task</strong>任务数据。</li>
<li><strong>处理人审批流程节点任务</strong>：完成任务审批，生成审批结果，生成下一节点任务数据。</li>
</ol>
<h1 id="3-Activiti-环境搭建"><a href="#3-Activiti-环境搭建" class="headerlink" title="3. Activiti 环境搭建"></a>3. Activiti 环境搭建</h1><ol>
<li>创建 Maven 项目，添加依赖。</li>
</ol>
<pre><div class="caption"><span>pom.xml</span></div><code class="highlight xml"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span>
<span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span>
    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span>
    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fengb<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>activiti01<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span>
        <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.activiti/activiti-engine --&gt;</span>
        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.activiti<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>activiti-engine<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
            <span class="tag">&lt;<span class="name">version</span>&gt;</span>7.0.0.Beta1<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>
        <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --&gt;</span>
        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.15<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>
        <span class="comment">&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;</span>
        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
            <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.33<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span>
<span class="tag">&lt;/<span class="name">project</span>&gt;</span></code></pre>

<ol start="2">
<li>在 resources 目录下创建 activiti.cfg.xml 核心配置文件。</li>
</ol>
<pre><div class="caption"><span>activiti.cfg.xml</span></div><code class="highlight xml"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span>
<span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span>
    <span class="comment">&lt;!-- 默认方式下，bean的id必须是processEngineConfiguration。 --&gt;</span>
    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;processEngineConfiguration&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.activiti.engine.impl.cfg.StandaloneProcessEngineConfiguration&quot;</span>&gt;</span>
        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;jdbcDriver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span>
        <span class="comment">&lt;!--</span>
<span class="comment">            characterEncoding=utf8：解决中文乱码。</span>
<span class="comment">            nullCatalogMeansCurrent=true：解决无法创建表。</span>
<span class="comment">        --&gt;</span>
        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;jdbcUrl&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql:///activiti1?nullCatalogMeansCurrent=true<span class="symbol">&amp;amp;</span>characterEncoding=utf8&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span>
        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;jdbcUsername&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span>
        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;jdbcPassword&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123456&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span>
        <span class="comment">&lt;!--</span>
<span class="comment">            true：适用开发环境，默认值。activiti会对数据库中所有表进行更新操作。如果表不存在，则自动创建。</span>
<span class="comment">            false：适用生产环境。activiti在启动时，对比数据库表中保存的版本，如果没有表或者版本不匹配，则抛出异常。</span>
<span class="comment">            create_drop：在activiti启动时创建表，在关闭时删除表（必须手动关闭引擎，才能删除表）。</span>
<span class="comment">            drop-create：在activiti启动时删除原来的旧表，然后在创建新表（不需要手动关闭引擎）。</span>
<span class="comment">        --&gt;</span>
        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;databaseSchemaUpdate&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span>
<span class="tag">&lt;/<span class="name">beans</span>&gt;</span></code></pre>

<ol start="3">
<li>编写测试类。</li>
</ol>
<pre><div class="caption"><span>Main.java</span></div><code class="highlight java"><span class="meta">@Test</span>
<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;
    <span class="comment">// 方式1.使用ProcessEngines工具类。</span>
    <span class="comment">// ProcessEngine processEngine = ProcessEngines.getDefaultProcessEngine();</span>

    <span class="comment">// 方式2.创建ProcessEngineConfiguration对象。</span>
    <span class="comment">// ProcessEngineConfiguration processEngineConfiguration = ProcessEngineConfiguration.createProcessEngineConfigurationFromResourceDefault();</span>
    <span class="comment">// ProcessEngineConfiguration processEngineConfiguration = ProcessEngineConfiguration.createProcessEngineConfigurationFromResource(&quot;activiti.cfg.xml&quot;);</span>
    <span class="type">ProcessEngineConfiguration</span> <span class="variable">processEngineConfiguration</span> <span class="operator">=</span> ProcessEngineConfiguration.createProcessEngineConfigurationFromResource(<span class="string">&quot;activiti.cfg.xml&quot;</span>, <span class="string">&quot;processEngineConfiguration&quot;</span>);
    <span class="type">ProcessEngine</span> <span class="variable">processEngine</span> <span class="operator">=</span> processEngineConfiguration.buildProcessEngine();
&#125;</code></pre>

<h1 id="4-Activiti-架构"><a href="#4-Activiti-架构" class="headerlink" title="4. Activiti 架构"></a>4. Activiti 架构</h1><h2 id="4-1-数据表"><a href="#4-1-数据表" class="headerlink" title="4.1. 数据表"></a>4.1. 数据表</h2><table style="align: left; border-collapse: collapse; border: 1px solid black;">
    <thead>
        <tr>
            <th style="width: 20%;">表分类</th>
            <th style="width: 20%;">表名</th>
            <th style="width: 60%;">解释</th>
        </tr>
    </thead>
    <tbody>
        <!-- 通用数据 -->
        <tr>
            <td style="font-weight:700">通用数据</td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td>ACT_GE_BYTEARRAY</td>
            <td>二进制数据表。</td>
        </tr>
        <tr>
            <td></td>
            <td>ACT_GE_PROPERTY</td>
            <td>属性数据表。存储整个流程引擎级别的数据，初始化表结构时会插入版本号信息等。</td>
        </tr>
        <!-- 流程历史数据 -->
        <tr>
            <td style="font-weight:700">流程历史数据</td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td>ACT_HI_ACTINST</td>
            <td>历史节点表。</td>
        </tr>
        <tr>
            <td></td>
            <td>ACT_HI_ATTACHMENT</td>
            <td>历史附件表。</td>
        </tr>
        <tr>
            <td></td>
            <td>ACT_HI_COMMENT</td>
            <td>历史意见表。</td>
        </tr>
        <tr>
            <td></td>
            <td>ACT_HI_DETAIL</td>
            <td>历史详情表，提供历史变量的查询。</td>
        </tr>
        <tr>
            <td></td>
            <td>ACT_HI_IDENTITYLINK</td>
            <td>历史流程人员表，主要存储任务节点与参与者的信息。</td>
        </tr>
        <tr>
            <td></td>
            <td>ACT_HI_PROCINST</td>
            <td>历史流程实例表。</td>
        </tr>
        <tr>
            <td></td>
            <td>ACT_HI_TASKINST</td>
            <td>历史任务实例表。</td>
        </tr>
        <tr>
            <td></td>
            <td>ACT_HI_VARINST</td>
            <td>历史变量表。</td>
        </tr>
        <!-- 流程定义数据 -->
        <tr>
            <td style="font-weight:700">流程定义数据</td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td>ACT_RE_DEPLOYMENT</td>
            <td>部署信息表。</td>
        </tr>
        <tr>
            <td></td>
            <td>ACT_RE_MODEL</td>
            <td>流程模型设计表。</td>
        </tr>
        <tr>
            <td></td>
            <td>ACT_RE_PROCDEF</td>
            <td>流程定义数据表。</td>
        </tr>
        <!-- 运行实例数据 -->
        <tr>
            <td style="font-weight:700">运行实例数据</td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td>ACT_RU_DEADLETTER_JOB</td>
            <td>作业死亡信息表，如果作业失败超过重试次数，则写入此表。</td>
        </tr>
        <tr>
            <td></td>
            <td>ACT_RU_EVENT_SUBSCR</td>
            <td>throwEvent、catchEvent事件监听信息表。</td>
        </tr>
        <tr>
            <td></td>
            <td>ACT_RU_EXECUTION</td>
            <td>运行时流程执行实例表。</td>
        </tr>
        <tr>
            <td></td>
            <td>ACT_RU_IDENTITYLINK</td>
            <td>运行时流程人员表，主要存储任务节点与参与者的相关信息。</td>
        </tr>
        <tr>
            <td></td>
            <td>ACT_RU_INTEGRATION</td>
            <td>运行时积分表。</td>
        </tr>
        <tr>
            <td></td>
            <td>ACT_RU_JOB</td>
            <td>定时异步任务数据表。</td>
        </tr>
        <tr>
            <td></td>
            <td>ACT_RU_SUSPENDED_JOB</td>
            <td>运行时作业暂停表。如果流程中有个定时任务，如果这个任务停止工作了，这个任务写入这个表。</td>
        </tr>
        <tr>
            <td></td>
            <td>ACT_RU_TASK</td>
            <td>运行时任务节点表。</td>
        </tr>
        <tr>
            <td></td>
            <td>ACT_RU_TIMER_JOB</td>
            <td>运行时定时器作业表。</td>
        </tr>
        <tr>
            <td></td>
            <td>ACT_RU_VARIABLE</td>
            <td>运行时流程变量数据表。</td>
        </tr>
        <!-- 其他数据 -->
        <tr>
            <td style="font-weight:700">其他数据</td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td>ACT_EVT_LOG</td>
            <td>流程引擎的通用事件日志记录表。</td>
        </tr>
        <tr>
            <td></td>
            <td>ACT_PROCDEF_INFO</td>
            <td>流程定义的动态变更信息。</td>
        </tr>
    </tbody>
</table>

<h2 id="4-2-Service-接口"><a href="#4-2-Service-接口" class="headerlink" title="4.2. Service 接口"></a>4.2. Service 接口</h2><table style="align: left; border-collapse: collapse; border: 1px solid black;">
    <thead>
        <tr>
            <th style="width: 30%">Service名称</th>
            <th style="width: 70%">作用</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>RepositoryService</td>
            <td>资源管理类。用于管理流程仓库，比如流程定义的控制管理（部署、删除、挂起、激活等）。</td>
        </tr>
        <tr>
            <td>RuntimeService</td>
            <td>流程运行管理类。用于处理所有正在运行状态的流程实例和任务等。</td>
        </tr>
        <tr>
            <td>DynamicBpmnService</td>
            <td>用于在程序运行过程中去修改流程定义，比如修改流程定义中的分配角色、优先级、流程流转的条件等。</td>
        </tr>
        <tr>
            <td>TaskService</td>
            <td>任务Service，用于管理和查询任务，比如拾取、办理等。</td>
        </tr>
        <tr>
            <td>HistoryService</td>
            <td>历史管理类。用于查询所有历史数据，比如流程实例信息、参与者信息、完成时间等。</td>
        </tr>
        <tr>
            <td>ManagementService</td>
            <td>引擎管理类。用于对Activiti流程引擎的管理和维护。</td>
        </tr>
    </tbody>
</table>

<h1 id="5-Activiti-实操"><a href="#5-Activiti-实操" class="headerlink" title="5. Activiti 实操"></a>5. Activiti 实操</h1><h2 id="5-1-部署流程定义"><a href="#5-1-部署流程定义" class="headerlink" title="5.1. 部署流程定义"></a>5.1. 部署流程定义</h2><pre><code class="highlight java"><span class="meta">@Test</span>
<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;
    <span class="comment">// 获取流程引擎实例</span>
    <span class="type">ProcessEngine</span> <span class="variable">processEngine</span> <span class="operator">=</span> ProcessEngines.getDefaultProcessEngine();
    <span class="comment">// 获取RepositoryService</span>
    <span class="type">RepositoryService</span> <span class="variable">repositoryService</span> <span class="operator">=</span> processEngine.getRepositoryService();
    <span class="comment">// 方式1. BPMN文件部署</span>
    <span class="type">Deployment</span> <span class="variable">deployment</span> <span class="operator">=</span> repositoryService.createDeployment().name(<span class="string">&quot;请假流程&quot;</span>)
        .addClasspathResource(<span class="string">&quot;leave.bpmn&quot;</span>).addClasspathResource(<span class="string">&quot;leave.png&quot;</span>).deploy();
    <span class="comment">// 方式2. ZIP压缩包部署</span>
    <span class="comment">// ZipInputStream zis = new ZipInputStream(this.getClass().getClassLoader().getResourceAsStream(&quot;leave.zip&quot;));</span>
    <span class="comment">// Deployment deployment = repositoryService.createDeployment().name(&quot;请假流程ZIP版&quot;).addZipInputStream(zis).deploy();</span>
    System.out.println(<span class="string">&quot;部署ID: &quot;</span> + deployment.getId());
&#125;</code></pre>

<h2 id="5-2-查询流程定义"><a href="#5-2-查询流程定义" class="headerlink" title="5.2. 查询流程定义"></a>5.2. 查询流程定义</h2><pre><code class="highlight java"><span class="meta">@Test</span>
<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;
    <span class="type">ProcessEngine</span> <span class="variable">processEngine</span> <span class="operator">=</span> ProcessEngines.getDefaultProcessEngine();
    <span class="type">RepositoryService</span> <span class="variable">repositoryService</span> <span class="operator">=</span> processEngine.getRepositoryService();
    <span class="comment">// 根据流程定义key查询流程定义</span>
    List&lt;ProcessDefinition&gt; list = repositoryService.createProcessDefinitionQuery()
        .processDefinitionKey(<span class="string">&quot;leaveProcess&quot;</span>).orderByProcessDefinitionVersion().desc().list();
    <span class="keyword">for</span> (ProcessDefinition processDefinition : list) &#123;
        System.out.println(<span class="string">&quot;流程定义ID: &quot;</span> + processDefinition.getId());
        System.out.println(<span class="string">&quot;流程定义Key: &quot;</span> + processDefinition.getKey());
    &#125;
&#125;</code></pre>

<h2 id="5-3-启动流程实例"><a href="#5-3-启动流程实例" class="headerlink" title="5.3. 启动流程实例"></a>5.3. 启动流程实例</h2><pre><code class="highlight java"><span class="meta">@Test</span>
<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;
    <span class="type">ProcessEngine</span> <span class="variable">processEngine</span> <span class="operator">=</span> ProcessEngines.getDefaultProcessEngine();
    <span class="type">RuntimeService</span> <span class="variable">runtimeService</span> <span class="operator">=</span> processEngine.getRuntimeService();
    <span class="comment">// 根据流程定义key启动流程实例</span>
    <span class="type">ProcessInstance</span> <span class="variable">processInstance</span> <span class="operator">=</span> runtimeService.startProcessInstanceByKey(<span class="string">&quot;leaveProcess&quot;</span>);
    System.out.println(<span class="string">&quot;流程实例ID: &quot;</span> + processInstance.getId());
&#125;</code></pre>

<h2 id="5-4-查询代办任务"><a href="#5-4-查询代办任务" class="headerlink" title="5.4. 查询代办任务"></a>5.4. 查询代办任务</h2><pre><code class="highlight java"><span class="meta">@Test</span>
<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;
    <span class="type">ProcessEngine</span> <span class="variable">processEngine</span> <span class="operator">=</span> ProcessEngines.getDefaultProcessEngine();
    <span class="type">TaskService</span> <span class="variable">taskService</span> <span class="operator">=</span> processEngine.getTaskService();
    <span class="comment">// 查询任务</span>
    <span class="type">Task</span> <span class="variable">task</span> <span class="operator">=</span> taskService.createTaskQuery().processDefinitionKey(<span class="string">&quot;leaveProcess&quot;</span>).taskAssignee(<span class="string">&quot;fengb&quot;</span>).singleResult();
    System.out.println(<span class="string">&quot;任务名称: &quot;</span> + task.getName());
    System.out.println(<span class="string">&quot;任务办理人: &quot;</span> + task.getAssignee());
&#125;</code></pre>

<h2 id="5-5-完成代办任务"><a href="#5-5-完成代办任务" class="headerlink" title="5.5. 完成代办任务"></a>5.5. 完成代办任务</h2><pre><code class="highlight java"><span class="meta">@Test</span>
<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;
    <span class="type">ProcessEngine</span> <span class="variable">processEngine</span> <span class="operator">=</span> ProcessEngines.getDefaultProcessEngine();
    <span class="type">TaskService</span> <span class="variable">taskService</span> <span class="operator">=</span> processEngine.getTaskService();
    <span class="type">Task</span> <span class="variable">task</span> <span class="operator">=</span> taskService.createTaskQuery().processDefinitionKey(<span class="string">&quot;leaveProcess&quot;</span>).taskAssignee(<span class="string">&quot;meng&quot;</span>).singleResult();
    <span class="comment">// 完成任务</span>
    taskService.complete(task.getId());
&#125;</code></pre>

<h2 id="5-6-查询历史信息"><a href="#5-6-查询历史信息" class="headerlink" title="5.6. 查询历史信息"></a>5.6. 查询历史信息</h2><pre><code class="highlight java"><span class="meta">@Test</span>
<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;
    <span class="type">ProcessEngine</span> <span class="variable">processEngine</span> <span class="operator">=</span> ProcessEngines.getDefaultProcessEngine();
    <span class="type">HistoryService</span> <span class="variable">historyService</span> <span class="operator">=</span> processEngine.getHistoryService();
    <span class="comment">// 查询流程实例历史节点</span>
    List&lt;HistoricActivityInstance&gt; list = historyService.createHistoricActivityInstanceQuery().processInstanceId(<span class="string">&quot;5001&quot;</span>)
        .orderByHistoricActivityInstanceStartTime().asc().list();
    <span class="keyword">for</span> (HistoricActivityInstance historicActivityInstance : list) &#123;
        System.out.println(<span class="string">&quot;节点ID: &quot;</span> + historicActivityInstance.getActivityId());
        System.out.println(<span class="string">&quot;开始时间: &quot;</span> + historicActivityInstance.getStartTime());
        System.out.println(<span class="string">&quot;结束时间: &quot;</span> + historicActivityInstance.getEndTime());
    &#125;
&#125;</code></pre>

      
       <hr><span style="font-style: italic;color: gray;"> 不积跬步无以至千里，不积小流无以成江海！ </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">赏</a>
</p>






    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©2015-2024 蜡笔没了小新
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>喜欢就点赞,疼爱就打赏</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.png" class="alipay" title="扫码支持">
            <img src="/img/wechat.png" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">支付宝</label></span><span><label><input type="radio" name="pay" value="weixin">微信</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*高亮代码块行号*/
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 582px;
    }
    .nav.fullscreen {
        margin-left: -582px;
    }
    .nav-left {
        width: 160px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 532px;
        }
        .nav.fullscreen {
            margin-left: -532px;
        }
        .nav-left {
            width: 140px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 532px;
            margin-left: -532px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    
    .nav-right:before {
        content: ' ';
        display: block;
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        opacity: 0.3;
        background: url("/images/20230809225525.png");
        background-repeat: no-repeat;
        background-position: 50% 0;
        -ms-background-size: cover;
        -o-background-size: cover;
        -moz-background-size: cover;
        -webkit-background-size: cover;
        background-size: cover;
    }
    

    
    #post .pjax article :not(pre) > code {
        color: #24292e;
        font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
        background-color: rgba(27,31,35,.05);
        border-radius: 3px;
        font-size: 85%;
        margin: 0;
        padding: .2em .4em;
    }
    
</style>







</html>
